"use strict";function getNotifications(){$.getJSON("/notifications/",function(e){var t=[],n=0;if(e.items[0])$.each(e.items,function(e,r){r.is_read||n++;var a=r.is_read?"is_read":"",o='data-id="'+r._id+'" data-read="'+r.is_read+'"',s='<li class="nc-item '+a+'">';s+='<div class="nc-avatar">',s+='<a  href="'+r.username_url+'">',s+="<img "+o+' src="'+r.username_avatar+'"/> ',s+="</a>",s+="</div>",s+='<div class="nc-text">',s+="<a "+o+'" href="'+r.username_url+'">'+r.username+"</a> ",s+=r.action+" ",s+="<a "+o+'" href="'+r.object_url+'">',s+=r.context_object_name+" ",s+="</a> ",s+='<span class="nc-date">',s+="<a "+o+'" href="'+r.object_url+'">'+r.date+"</a>",s+="</span>",s+='<a href="/notifications/'+r._id+'/read-toggle" class="nc-button nc-read_toggle">',s+=r.is_read?'<i title="Mark as Unread" class="fa fa-check-circle-o"></i>':'<i title="Mark as Read" class="fa fa-circle-o"></i>',s+="</a>",s+='<a href="/notifications/'+r._id+'/subscription-toggle" class="nc-button nc-subscription_toggle">',s+=r.is_subscribed?'<i title="Turn Off Notifications" class="fa fa-toggle-on"></i>':'<i title="Turn On Notifications" class="fa fa-toggle-off"></i>',s+="</a>",s+="</div>",s+="</li>",t.push(s)}),n>0?(document.title="("+n+") "+page_title,$("#notifications-count").addClass("bloom"),$("#notifications-count").text(n)):$("#notifications-count").removeAttr("class");else{var r='<li class="nc-item nc-item-empty">';r+="No notifications... yet",r+="</li>",t.push(r)}$("#notifications-list").html(t.join(""))})}function hideNotifications(){$("#notifications").hide(),$("#notifications-toggle").removeAttr("class")}function notificationsResize(){var e=$(window).height()-80;$("#notifications").height()>e?$("#notifications").css({"max-height":e/2,"overflow-y":"scroll"}):$("#notifications").css({"max-height":"initial","overflow-y":"initial"})}var Markdown;Markdown="object"==typeof exports&&"function"==typeof require?exports:{},function(){function e(e){return e}function t(e){return!1}function n(){}function r(){}n.prototype={chain:function(t,n){var r=this[t];if(!r)throw new Error("unknown hook "+t);r===e?this[t]=n:this[t]=function(e){var t=Array.prototype.slice.call(arguments,0);return t[0]=r.apply(null,t),n.apply(null,t)}},set:function(e,t){if(!this[e])throw new Error("unknown hook "+e);this[e]=t},addNoop:function(t){this[t]=e},addFalse:function(e){this[e]=t}},Markdown.HookCollection=n,r.prototype={set:function(e,t){this["s_"+e]=t},get:function(e){return this["s_"+e]}},Markdown.Converter=function(t){function a(e){return e=e.replace(/^[ ]{0,3}\[([^\[\]]+)\]:[ \t]*\n?[ \t]*<?(\S+?)>?(?=\s|$)[ \t]*\n?[ \t]*((\n*)["(](.+?)[")][ \t]*)?(\n+)/gm,function(e,t,n,r,a,o,s){return t=t.toLowerCase(),M.set(t,_(n)),a?r+s:(o&&N.set(t,o.replace(/"/g,"&quot;")),"")})}function o(e){return e=e.replace(/^(<(p|div|h[1-6]|blockquote|pre|table|dl|ol|ul|script|noscript|form|fieldset|math|ins|del)\b[^\r]*?\n<\/\2>[ \t]*(?=\n+))/gm,i),e=e.replace(/^(<(p|div|h[1-6]|blockquote|pre|table|dl|ol|ul|script|noscript|form|fieldset|math)\b[^\r]*?.*<\/\2>[ \t]*(?=\n+)\n)/gm,i),e=e.replace(/\n[ ]{0,3}((<(hr)\b([^<>])*?\/?>)[ \t]*(?=\n{2,}))/g,i),e=e.replace(/\n\n[ ]{0,3}(<!(--(?:|(?:[^>-]|-[^>])(?:[^-]|-[^-])*)--)>[ \t]*(?=\n{2,}))/g,i),e=e.replace(/(?:\n\n)([ ]{0,3}(?:<([?%])[^\r]*?\2>)[ \t]*(?=\n{2,}))/g,i)}function s(e){return e=e.replace(/(^\n+|\n+$)/g,""),"\n\n~K"+(R.push(e)-1)+"K\n\n"}function i(e,t){return s(t)}function u(e,t,n){e=z.preBlockGamut(e,W),e=m(e);var r="<hr />\n";return e=e.replace(/^[ ]{0,2}([ ]?\*[ ]?){3,}[ \t]*$/gm,r),e=e.replace(/^[ ]{0,2}([ ]?-[ ]?){3,}[ \t]*$/gm,r),e=e.replace(/^[ ]{0,2}([ ]?_[ ]?){3,}[ \t]*$/gm,r),e=b(e),e=$(e),e=C(e),e=z.postBlockGamut(e,W),e=o(e),e=E(e,t,n)}function c(e){return e=z.preSpanGamut(e),e=w(e),e=l(e),e=P(e),e=d(e),e=p(e),e=A(e),e=e.replace(/~P/g,"://"),e=_(e),e=F(e),e=e.replace(/  +\n/g," <br>\n"),e=z.postSpanGamut(e)}function l(e){var t=/(<[a-z\/!$]("[^"]*"|'[^']*'|[^'">])*>|<!(--(?:|(?:[^>-]|-[^>])(?:[^-]|-[^-])*)--)>)/gi;return e=e.replace(t,function(e){var t=e.replace(/(.)<\/?code>(?=.)/g,"$1`");return t=I(t,"!"==e.charAt(1)?"\\`*_/":"\\`*_")})}function p(e){return-1===e.indexOf("[")?e:(e=e.replace(/(\[((?:\[[^\]]*\]|[^\[\]])*)\][ ]?(?:\n[ ]*)?\[(.*?)\])()()()()/g,f),e=e.replace(/(\[((?:\[[^\]]*\]|[^\[\]])*)\]\([ \t]*()<?((?:\([^)]*\)|[^()\s])*?)>?[ \t]*((['"])(.*?)\6[ \t]*)?\))/g,f),e=e.replace(/(\[([^\[\]]+)\])()()()()()/g,f))}function f(e,t,n,r,a,o,s,i){void 0==i&&(i="");var u=t,c=n.replace(/:\/\//g,"~P"),l=r.toLowerCase(),p=a,f=i;if(""==p)if(""==l&&(l=c.toLowerCase().replace(/ ?\n/g," ")),p="#"+l,void 0!=M.get(l))p=M.get(l),void 0!=N.get(l)&&(f=N.get(l));else{if(!(u.search(/\(\s*\)$/m)>-1))return u;p=""}p=T(p);var d='<a href="'+p+'"';return""!=f&&(f=h(f),f=I(f,"*_"),d+=' title="'+f+'"'),d+=">"+c+"</a>"}function d(e){return-1===e.indexOf("![")?e:(e=e.replace(/(!\[(.*?)\][ ]?(?:\n[ ]*)?\[(.*?)\])()()()()/g,g),e=e.replace(/(!\[(.*?)\]\s?\([ \t]*()<?(\S+?)>?[ \t]*((['"])(.*?)\6[ \t]*)?\))/g,g))}function h(e){return e.replace(/>/g,"&gt;").replace(/</g,"&lt;").replace(/"/g,"&quot;").replace(/'/g,"&#39;")}function g(e,t,n,r,a,o,s,i){var u=t,c=n,l=r.toLowerCase(),p=a,f=i;if(f||(f=""),""==p){if(""==l&&(l=c.toLowerCase().replace(/ ?\n/g," ")),p="#"+l,void 0==M.get(l))return u;p=M.get(l),void 0!=N.get(l)&&(f=N.get(l))}c=I(h(c),"*_[]()"),p=I(p,"*_");var d='<img src="'+p+'" alt="'+c+'"';return f=h(f),f=I(f,"*_"),d+=' title="'+f+'"',d+=" />"}function m(e){return e=e.replace(/^(.+)[ \t]*\n=+[ \t]*\n+/gm,function(e,t){return"<h1>"+c(t)+"</h1>\n\n"}),e=e.replace(/^(.+)[ \t]*\n-+[ \t]*\n+/gm,function(e,t){return"<h2>"+c(t)+"</h2>\n\n"}),e=e.replace(/^(\#{1,6})[ \t]*(.+?)[ \t]*\#*\n+/gm,function(e,t,n){var r=t.length;return"<h"+r+">"+c(n)+"</h"+r+">\n\n"})}function b(e,t){e+="~0";var n=/^(([ ]{0,3}([*+-]|\d+[.])[ \t]+)[^\r]+?(~0|\n{2,}(?=\S)(?![ \t]*(?:[*+-]|\d+[.])[ \t]+)))/gm;return j?e=e.replace(n,function(e,n,r){var a,o=n,s=r.search(/[*+-]/g)>-1?"ul":"ol";"ol"===s&&(a=parseInt(r,10));var i=v(o,s,t);i=i.replace(/\s+$/,"");var u="<"+s;return a&&1!==a&&(u+=' start="'+a+'"'),i=u+">"+i+"</"+s+">\n"}):(n=/(\n\n|^\n?)(([ ]{0,3}([*+-]|\d+[.])[ \t]+)[^\r]+?(~0|\n{2,}(?=\S)(?![ \t]*(?:[*+-]|\d+[.])[ \t]+)))/g,e=e.replace(n,function(e,t,n,r){var a,o=t,s=n,i=r.search(/[*+-]/g)>-1?"ul":"ol";"ol"===i&&(a=parseInt(r,10));var u=v(s,i),c="<"+i;return a&&1!==a&&(c+=' start="'+a+'"'),u=o+c+">\n"+u+"</"+i+">\n"})),e=e.replace(/~0/,"")}function v(e,t,n){j++,e=e.replace(/\n{2,}$/,"\n"),e+="~0";var r=q[t],a=new RegExp("(^[ \\t]*)("+r+")[ \\t]+([^\\r]+?(\\n+))(?=(~0|\\1("+r+")[ \\t]+))","gm"),o=!1;return e=e.replace(a,function(e,t,n,r){var a=r,s=/\n\n$/.test(a),i=s||a.search(/\n{2,}/)>-1,c=i||o;return a=u(L(a),!0,!c),o=s,"<li>"+a+"</li>\n"}),e=e.replace(/~0/g,""),j--,e}function $(e){return e+="~0",e=e.replace(/(?:\n\n|^\n?)((?:(?:[ ]{4}|\t).*\n+)+)(\n*[ ]{0,3}[^ \t\n]|(?=~0))/g,function(e,t,n){var r=t,a=n;return r=k(L(r)),r=O(r),r=r.replace(/^\n+/g,""),r=r.replace(/\n+$/g,""),r="<pre><code>"+r+"\n</code></pre>","\n\n"+r+"\n\n"+a}),e=e.replace(/~0/,"")}function w(e){return e=e.replace(/(^|[^\\`])(`+)(?!`)([^\r]*?[^`])\2(?!`)/gm,function(e,t,n,r,a){var o=r;return o=o.replace(/^([ \t]*)/g,""),o=o.replace(/[ \t]*$/g,""),o=k(o),o=o.replace(/:\/\//g,"~P"),t+"<code>"+o+"</code>"})}function k(e){return e=e.replace(/&/g,"&amp;"),e=e.replace(/</g,"&lt;"),e=e.replace(/>/g,"&gt;"),e=I(e,"*_{}[]\\",!1)}function y(e){return-1===e.indexOf("*")&&-1===e.indexOf("_")?e:(e=G(e),e=e.replace(/(^|[\W_])(?:(?!\1)|(?=^))(\*|_)\2(?=\S)([^\r]*?\S)\2\2(?!\2)(?=[\W_]|$)/g,"$1<strong>$3</strong>"),e=e.replace(/(^|[\W_])(?:(?!\1)|(?=^))(\*|_)(?=\S)((?:(?!\2)[^\r])*?\S)\2(?!\2)(?=[\W_]|$)/g,"$1<em>$3</em>"),H(e))}function x(e){return-1===e.indexOf("*")&&-1===e.indexOf("_")?e:(e=G(e),e=e.replace(/(?=[^\r][*_]|[*_])(^|(?=\W__|(?!\*)[\W_]\*\*|\w\*\*\w)[^\r])(\*\*|__)(?!\2)(?=\S)((?:|[^\r]*?(?!\2)[^\r])(?=\S_|\w|\S\*\*(?:[\W_]|$)).)(?=__(?:\W|$)|\*\*(?:[^*]|$))\2/g,"$1<strong>$3</strong>"),e=e.replace(/(?=[^\r][*_]|[*_])(^|(?=\W_|(?!\*)(?:[\W_]\*|\D\*(?=\w)\D))[^\r])(\*|_)(?!\2\2\2)(?=\S)((?:(?!\2)[^\r])*?(?=[^\s_]_|(?=\w)\D\*\D|[^\s*]\*(?:[\W_]|$)).)(?=_(?:\W|$)|\*(?:[^*]|$))\2/g,"$1<em>$3</em>"),H(e))}function C(e){return e=e.replace(/((^[ \t]*>[ \t]?.+\n(.+\n)*\n*)+)/gm,function(e,t){var n=t;return n=n.replace(/^[ \t]*>[ \t]?/gm,"~0"),n=n.replace(/~0/g,""),n=n.replace(/^[ \t]+$/gm,""),n=u(n),n=n.replace(/(^|\n)/g,"$1  "),n=n.replace(/(\s*<pre>[^\r]+?<\/pre>)/gm,function(e,t){var n=t;return n=n.replace(/^  /gm,"~0"),n=n.replace(/~0/g,"")}),s("<blockquote>\n"+n+"\n</blockquote>")})}function E(e,t,n){e=e.replace(/^\n+/g,""),e=e.replace(/\n+$/g,"");for(var r=e.split(/\n{2,}/g),a=[],o=/~K(\d+)K/,s=r.length,i=0;s>i;i++){var u=r[i];o.test(u)?a.push(u):/\S/.test(u)&&(u=c(u),u=u.replace(/^([ \t]*)/g,n?"":"<p>"),n||(u+="</p>"),a.push(u))}if(!t){s=a.length;for(var i=0;s>i;i++)for(var l=!0;l;)l=!1,a[i]=a[i].replace(/~K(\d+)K/g,function(e,t){return l=!0,R[t]})}return a.join("\n\n")}function _(e){return e=e.replace(/&(?!#?[xX]?(?:[0-9a-fA-F]+|\w+);)/g,"&amp;"),e=e.replace(/<(?![a-z\/?!]|~D)/gi,"&lt;")}function P(e){return e=e.replace(/\\(\\)/g,D),e=e.replace(/\\([`*_{}\[\]()>#+-.!])/g,D)}function S(e,t,n,r){if(t)return e;if(")"!==r.charAt(r.length-1))return"<"+n+r+">";for(var a=r.match(/[()]/g),o=0,s=0;s<a.length;s++)"("===a[s]?0>=o?o=1:o++:o--;var i="";if(0>o){var u=new RegExp("\\){1,"+-o+"}$");r=r.replace(u,function(e){return i=e,""})}if(i){var c=r.charAt(r.length-1);Z.test(c)||(i=c+i,r=r.substr(0,r.length-1))}return"<"+n+r+">"+i}function A(e){e=e.replace(K,S);var t=function(e,t){var n=T(t);return'<a href="'+n+'">'+z.plainLinkText(t)+"</a>"};return e=e.replace(/<((https?|ftp):[^'">\s]+)>/gi,t)}function B(e){return e=e.replace(/~E(\d+)E/g,function(e,t){var n=parseInt(t);return String.fromCharCode(n)})}function L(e){return e=e.replace(/^(\t|[ ]{1,4})/gm,"~0"),e=e.replace(/~0/g,"")}function O(e){if(!/\t/.test(e))return e;var t,n=["    ","   ","  "," "],r=0;return e.replace(/[\n\t]/g,function(e,a){return"\n"===e?(r=a+1,e):(t=(a-r)%4,r=a+1,n[t])})}function T(e){return e=h(e),e=I(e,"*_:()[]")}function I(e,t,n){var r="(["+t.replace(/([\[\]\\])/g,"\\$1")+"])";n&&(r="\\\\"+r);var a=new RegExp(r,"g");return e=e.replace(a,D)}function D(e,t){var n=t.charCodeAt(0);return"~E"+n+"E"}var z=this.hooks=new n;z.addNoop("plainLinkText"),z.addNoop("preConversion"),z.addNoop("postNormalization"),z.addNoop("preBlockGamut"),z.addNoop("postBlockGamut"),z.addNoop("preSpanGamut"),z.addNoop("postSpanGamut"),z.addNoop("postConversion");var M,N,R,j;t=t||{};var G=e,H=e;t.nonAsciiLetters&&!function(){var e=/[Q\u00aa\u00b5\u00ba\u00c0-\u00d6\u00d8-\u00f6\u00f8-\u02c1\u02c6-\u02d1\u02e0-\u02e4\u02ec\u02ee\u0370-\u0374\u0376-\u0377\u037a-\u037d\u0386\u0388-\u038a\u038c\u038e-\u03a1\u03a3-\u03f5\u03f7-\u0481\u048a-\u0523\u0531-\u0556\u0559\u0561-\u0587\u05d0-\u05ea\u05f0-\u05f2\u0621-\u064a\u0660-\u0669\u066e-\u066f\u0671-\u06d3\u06d5\u06e5-\u06e6\u06ee-\u06fc\u06ff\u0710\u0712-\u072f\u074d-\u07a5\u07b1\u07c0-\u07ea\u07f4-\u07f5\u07fa\u0904-\u0939\u093d\u0950\u0958-\u0961\u0966-\u096f\u0971-\u0972\u097b-\u097f\u0985-\u098c\u098f-\u0990\u0993-\u09a8\u09aa-\u09b0\u09b2\u09b6-\u09b9\u09bd\u09ce\u09dc-\u09dd\u09df-\u09e1\u09e6-\u09f1\u0a05-\u0a0a\u0a0f-\u0a10\u0a13-\u0a28\u0a2a-\u0a30\u0a32-\u0a33\u0a35-\u0a36\u0a38-\u0a39\u0a59-\u0a5c\u0a5e\u0a66-\u0a6f\u0a72-\u0a74\u0a85-\u0a8d\u0a8f-\u0a91\u0a93-\u0aa8\u0aaa-\u0ab0\u0ab2-\u0ab3\u0ab5-\u0ab9\u0abd\u0ad0\u0ae0-\u0ae1\u0ae6-\u0aef\u0b05-\u0b0c\u0b0f-\u0b10\u0b13-\u0b28\u0b2a-\u0b30\u0b32-\u0b33\u0b35-\u0b39\u0b3d\u0b5c-\u0b5d\u0b5f-\u0b61\u0b66-\u0b6f\u0b71\u0b83\u0b85-\u0b8a\u0b8e-\u0b90\u0b92-\u0b95\u0b99-\u0b9a\u0b9c\u0b9e-\u0b9f\u0ba3-\u0ba4\u0ba8-\u0baa\u0bae-\u0bb9\u0bd0\u0be6-\u0bef\u0c05-\u0c0c\u0c0e-\u0c10\u0c12-\u0c28\u0c2a-\u0c33\u0c35-\u0c39\u0c3d\u0c58-\u0c59\u0c60-\u0c61\u0c66-\u0c6f\u0c85-\u0c8c\u0c8e-\u0c90\u0c92-\u0ca8\u0caa-\u0cb3\u0cb5-\u0cb9\u0cbd\u0cde\u0ce0-\u0ce1\u0ce6-\u0cef\u0d05-\u0d0c\u0d0e-\u0d10\u0d12-\u0d28\u0d2a-\u0d39\u0d3d\u0d60-\u0d61\u0d66-\u0d6f\u0d7a-\u0d7f\u0d85-\u0d96\u0d9a-\u0db1\u0db3-\u0dbb\u0dbd\u0dc0-\u0dc6\u0e01-\u0e30\u0e32-\u0e33\u0e40-\u0e46\u0e50-\u0e59\u0e81-\u0e82\u0e84\u0e87-\u0e88\u0e8a\u0e8d\u0e94-\u0e97\u0e99-\u0e9f\u0ea1-\u0ea3\u0ea5\u0ea7\u0eaa-\u0eab\u0ead-\u0eb0\u0eb2-\u0eb3\u0ebd\u0ec0-\u0ec4\u0ec6\u0ed0-\u0ed9\u0edc-\u0edd\u0f00\u0f20-\u0f29\u0f40-\u0f47\u0f49-\u0f6c\u0f88-\u0f8b\u1000-\u102a\u103f-\u1049\u1050-\u1055\u105a-\u105d\u1061\u1065-\u1066\u106e-\u1070\u1075-\u1081\u108e\u1090-\u1099\u10a0-\u10c5\u10d0-\u10fa\u10fc\u1100-\u1159\u115f-\u11a2\u11a8-\u11f9\u1200-\u1248\u124a-\u124d\u1250-\u1256\u1258\u125a-\u125d\u1260-\u1288\u128a-\u128d\u1290-\u12b0\u12b2-\u12b5\u12b8-\u12be\u12c0\u12c2-\u12c5\u12c8-\u12d6\u12d8-\u1310\u1312-\u1315\u1318-\u135a\u1380-\u138f\u13a0-\u13f4\u1401-\u166c\u166f-\u1676\u1681-\u169a\u16a0-\u16ea\u1700-\u170c\u170e-\u1711\u1720-\u1731\u1740-\u1751\u1760-\u176c\u176e-\u1770\u1780-\u17b3\u17d7\u17dc\u17e0-\u17e9\u1810-\u1819\u1820-\u1877\u1880-\u18a8\u18aa\u1900-\u191c\u1946-\u196d\u1970-\u1974\u1980-\u19a9\u19c1-\u19c7\u19d0-\u19d9\u1a00-\u1a16\u1b05-\u1b33\u1b45-\u1b4b\u1b50-\u1b59\u1b83-\u1ba0\u1bae-\u1bb9\u1c00-\u1c23\u1c40-\u1c49\u1c4d-\u1c7d\u1d00-\u1dbf\u1e00-\u1f15\u1f18-\u1f1d\u1f20-\u1f45\u1f48-\u1f4d\u1f50-\u1f57\u1f59\u1f5b\u1f5d\u1f5f-\u1f7d\u1f80-\u1fb4\u1fb6-\u1fbc\u1fbe\u1fc2-\u1fc4\u1fc6-\u1fcc\u1fd0-\u1fd3\u1fd6-\u1fdb\u1fe0-\u1fec\u1ff2-\u1ff4\u1ff6-\u1ffc\u203f-\u2040\u2054\u2071\u207f\u2090-\u2094\u2102\u2107\u210a-\u2113\u2115\u2119-\u211d\u2124\u2126\u2128\u212a-\u212d\u212f-\u2139\u213c-\u213f\u2145-\u2149\u214e\u2183-\u2184\u2c00-\u2c2e\u2c30-\u2c5e\u2c60-\u2c6f\u2c71-\u2c7d\u2c80-\u2ce4\u2d00-\u2d25\u2d30-\u2d65\u2d6f\u2d80-\u2d96\u2da0-\u2da6\u2da8-\u2dae\u2db0-\u2db6\u2db8-\u2dbe\u2dc0-\u2dc6\u2dc8-\u2dce\u2dd0-\u2dd6\u2dd8-\u2dde\u2e2f\u3005-\u3006\u3031-\u3035\u303b-\u303c\u3041-\u3096\u309d-\u309f\u30a1-\u30fa\u30fc-\u30ff\u3105-\u312d\u3131-\u318e\u31a0-\u31b7\u31f0-\u31ff\u3400-\u4db5\u4e00-\u9fc3\ua000-\ua48c\ua500-\ua60c\ua610-\ua62b\ua640-\ua65f\ua662-\ua66e\ua67f-\ua697\ua717-\ua71f\ua722-\ua788\ua78b-\ua78c\ua7fb-\ua801\ua803-\ua805\ua807-\ua80a\ua80c-\ua822\ua840-\ua873\ua882-\ua8b3\ua8d0-\ua8d9\ua900-\ua925\ua930-\ua946\uaa00-\uaa28\uaa40-\uaa42\uaa44-\uaa4b\uaa50-\uaa59\uac00-\ud7a3\uf900-\ufa2d\ufa30-\ufa6a\ufa70-\ufad9\ufb00-\ufb06\ufb13-\ufb17\ufb1d\ufb1f-\ufb28\ufb2a-\ufb36\ufb38-\ufb3c\ufb3e\ufb40-\ufb41\ufb43-\ufb44\ufb46-\ufbb1\ufbd3-\ufd3d\ufd50-\ufd8f\ufd92-\ufdc7\ufdf0-\ufdfb\ufe33-\ufe34\ufe4d-\ufe4f\ufe70-\ufe74\ufe76-\ufefc\uff10-\uff19\uff21-\uff3a\uff3f\uff41-\uff5a\uff66-\uffbe\uffc2-\uffc7\uffca-\uffcf\uffd2-\uffd7\uffda-\uffdc]/g,t="Q".charCodeAt(0),n="A".charCodeAt(0),r="Z".charCodeAt(0),a="a".charCodeAt(0)-r-1;G=function(o){return o.replace(e,function(e){for(var o,s=e.charCodeAt(0),i="";s>0;)o=s%51+n,o>=t&&o++,o>r&&(o+=a),i=String.fromCharCode(o)+i,s=s/51|0;return"Q"+i+"Q"})},H=function(e){return e.replace(/Q([A-PR-Za-z]{1,3})Q/g,function(e,o){for(var s,i=0,u=0;u<o.length;u++)s=o.charCodeAt(u),s>r&&(s-=a),s>t&&s--,s-=n,i=51*i+s;return String.fromCharCode(i)})}}();var F=t.asteriskIntraWordEmphasis?x:y;this.makeHtml=function(e){if(M)throw new Error("Recursive call to converter.makeHtml");return M=new r,N=new r,R=[],j=0,e=z.preConversion(e),e=e.replace(/~/g,"~T"),e=e.replace(/\$/g,"~D"),e=e.replace(/\r\n/g,"\n"),e=e.replace(/\r/g,"\n"),e="\n\n"+e+"\n\n",e=O(e),e=e.replace(/^[ \t]+$/gm,""),e=z.postNormalization(e),e=o(e),e=a(e),e=u(e),e=B(e),e=e.replace(/~D/g,"$$"),e=e.replace(/~T/g,"~"),e=z.postConversion(e),R=N=M=null,e};var W=function(e){return u(e)},q={ol:"\\d+[.]",ul:"[*+-]"},U="[-A-Z0-9+&@#/%?=~_|[\\]()!:,.;]",X="[-A-Z0-9+&@#/%=~_|[\\])]",K=new RegExp('(="|<)?\\b(https?|ftp)(://'+U+"*"+X+")(?=$|\\W)","gi"),Z=new RegExp(X,"i")}}(),function(){function e(e){return e.replace(/<[^>]*>?/gi,t)}function t(e){return e.match(o)||e.match(s)||e.match(c)||e.match(i)||e.match(u)?e:""}function n(e){if(""==e)return"";var t=/<\/?\w+[^>]*(\s|$|>)/g,n=e.toLowerCase().match(t),r=(n||[]).length;if(0==r)return e;for(var a,o,s,i="<p><img><br><li><hr>",u=[],c=[],l=!1,p=0;r>p;p++)if(a=n[p].replace(/<\/?(\w+).*/,"$1"),!(u[p]||i.search("<"+a+">")>-1)){if(o=n[p],s=-1,!/^<\//.test(o))for(var f=p+1;r>f;f++)if(!u[f]&&n[f]=="</"+a+">"){s=f;break}-1==s?l=c[p]=!0:u[s]=!0}if(!l)return e;var p=0;return e=e.replace(t,function(e){var t=c[p]?"":e;return p++,t})}var r,a;"object"==typeof exports&&"function"==typeof require?(r=exports,a=require("./Markdown.Converter").Converter):(r=window.Markdown,a=r.Converter),r.getSanitizingConverter=function(){var t=new a;return t.hooks.chain("postConversion",e),t.hooks.chain("postConversion",n),t};var o=/^(<\/?(b|blockquote|code|del|dd|dl|dt|em|h1|h2|h3|i|iframe|kbd|li|ol(?: start="\d+")?|p|pre|s|sup|sub|strong|strike|ul)>|<(br|hr)\s?\/?>)$/i,s=/^(<a\shref="((https?|ftp):\/\/|\/)[-A-Za-z0-9+&@#\/%?=~_|!:,.;\(\)*[\]$]+"(\stitle="[^"<>]+")?\s?>|<\/a>)$/i,i=/^(<iframe(\swidth="\d{1,3}")?(\sheight="\d{1,3}")\ssrc="((https?):\/\/|\/)[-A-Za-z0-9+&@#\/%?=~_|!:,.;\(\)*[\]$]+"(\sframeborder="\d{1,3}")?(\sallowfullscreen)\s?>|<\/iframe>)$/i,u=/^(<iframe(\swidth="\d{1,3}\%")?(\sheight="\d{1,3}")?(\sscrolling="(?:yes|no)")?(\sframeborder="(?:yes|no)")\ssrc="((https?):\/\/|\/)[-A-Za-z0-9+&@#\/%?=~_|!:,.;\(\)*[\]$]+"\s?>|<\/iframe>)$/i,c=/^(<img\ssrc="(https?:\/\/|\/)[-A-Za-z0-9+&@#\/%?=~_|!:,.;\(\)*[\]$]+"(\swidth="\d{1,3}")?(\sheight="\d{1,3}")?(\salt="[^"<>]*")?(\stitle="[^"<>]*")?\s?\/?>)$/i}(),function(){function e(e){var t={omitExtraWLInCodeBlocks:{"default":!1,describe:"Omit the default extra whiteline added to code blocks",type:"boolean"},noHeaderId:{"default":!1,describe:"Turn on/off generated header id",type:"boolean"},prefixHeaderId:{"default":!1,describe:"Specify a prefix to generated header ids",type:"string"},headerLevelStart:{"default":!1,describe:"The header blocks level start",type:"integer"},parseImgDimensions:{"default":!1,describe:"Turn on/off image dimension parsing",type:"boolean"},simplifiedAutoLink:{"default":!1,describe:"Turn on/off GFM autolink style",type:"boolean"},literalMidWordUnderscores:{"default":!1,describe:"Parse midword underscores as literal underscores",type:"boolean"},strikethrough:{"default":!1,describe:"Turn on/off strikethrough support",type:"boolean"},tables:{"default":!1,describe:"Turn on/off tables support",type:"boolean"},tablesHeaderId:{"default":!1,describe:"Add an id to table headers",type:"boolean"},ghCodeBlocks:{"default":!0,describe:"Turn on/off GFM fenced code blocks support",type:"boolean"},tasklists:{"default":!1,describe:"Turn on/off GFM tasklist support",type:"boolean"},smoothLivePreview:{"default":!1,describe:"Prevents weird effects in live previews due to incomplete input",type:"boolean"}};if(e===!1)return JSON.parse(JSON.stringify(t));var n={};for(var r in t)t.hasOwnProperty(r)&&(n[r]=t[r]["default"]);return n}function t(e,t){var n=t?"Error in "+t+" extension->":"Error in unnamed extension",a={valid:!0,error:""};r.helper.isArray(e)||(e=[e]);for(var o=0;o<e.length;++o){var s=n+" sub-extension "+o+": ",i=e[o];if("object"!=typeof i)return a.valid=!1,a.error=s+"must be an object, but "+typeof i+" given",a;if(!r.helper.isString(i.type))return a.valid=!1,a.error=s+'property "type" must be a string, but '+typeof i.type+" given",a;var u=i.type=i.type.toLowerCase();if("language"===u&&(u=i.type="lang"),"html"===u&&(u=i.type="output"),"lang"!==u&&"output"!==u)return a.valid=!1,a.error=s+"type "+u+' is not recognized. Valid values: "lang" or "output"',a;if(i.filter){if("function"!=typeof i.filter)return a.valid=!1,a.error=s+'"filter" must be a function, but '+typeof i.filter+" given",a}else{if(!i.regex)return a.valid=!1,a.error=s+'extensions must define either a "regex" property or a "filter" method',a;if(r.helper.isString(i.regex)&&(i.regex=new RegExp(i.regex,"g")),!i.regex instanceof RegExp)return a.valid=!1,a.error=s+'"regex" property must either be a string or a RegExp object, but '+typeof i.regex+" given",a;if(r.helper.isUndefined(i.replace))return a.valid=!1,a.error=s+'"regex" extensions must implement a replace string or function',a}if(r.helper.isUndefined(i.filter)&&r.helper.isUndefined(i.regex))return a.valid=!1,a.error=s+"output extensions must define a filter property",a}return a}function n(e,t){var n=t.charCodeAt(0);return"~E"+n+"E"}var r={},a={},o={},s=e(!0),i={github:{omitExtraWLInCodeBlocks:!0,prefixHeaderId:"user-content-",simplifiedAutoLink:!0,literalMidWordUnderscores:!0,strikethrough:!0,tables:!0,tablesHeaderId:!0,ghCodeBlocks:!0,tasklists:!0},vanilla:e(!0)};r.helper={},r.extensions={},r.setOption=function(e,t){return s[e]=t,this},r.getOption=function(e){return s[e]},r.getOptions=function(){return s},r.resetOptions=function(){s=e(!0)},r.setFlavor=function(e){if(i.hasOwnProperty(e)){var t=i[e];for(var n in t)t.hasOwnProperty(n)&&(s[n]=t[n])}},r.getDefaultOptions=function(t){return e(t)},r.subParser=function(e,t){if(r.helper.isString(e)){if("undefined"==typeof t){if(a.hasOwnProperty(e))return a[e];throw Error("SubParser named "+e+" not registered!")}a[e]=t}},r.extension=function(e,n){if(!r.helper.isString(e))throw Error("Extension 'name' must be a string");if(e=r.helper.stdExtName(e),r.helper.isUndefined(n)){if(!o.hasOwnProperty(e))throw Error("Extension named "+e+" is not registered!");return o[e]}"function"==typeof n&&(n=n()),r.helper.isArray(n)||(n=[n]);var a=t(n,e);if(!a.valid)throw Error(a.error);o[e]=n},r.getAllExtensions=function(){return o},r.removeExtension=function(e){delete o[e]},r.resetExtensions=function(){o={}},r.validateExtension=function(e){var n=t(e,null);return n.valid?!0:(console.warn(n.error),!1)},r.hasOwnProperty("helper")||(r.helper={}),r.helper.isString=function(e){return"string"==typeof e||e instanceof String},r.helper.forEach=function(e,t){if("function"==typeof e.forEach)e.forEach(t);else for(var n=0;n<e.length;n++)t(e[n],n,e)},r.helper.isArray=function(e){return e.constructor===Array},r.helper.isUndefined=function(e){return"undefined"==typeof e},r.helper.stdExtName=function(e){return e.replace(/[_-]||\s/g,"").toLowerCase()},r.helper.escapeCharactersCallback=n,r.helper.escapeCharacters=function(e,t,r){var a="(["+t.replace(/([\[\]\\])/g,"\\$1")+"])";r&&(a="\\\\"+a);var o=new RegExp(a,"g");return e=e.replace(o,n)},r.helper.isUndefined(console)&&(console={warn:function(e){alert(e)},log:function(e){alert(e)}}),r.Converter=function(e){function n(){e=e||{};for(var t in s)s.hasOwnProperty(t)&&(l[t]=s[t]);if("object"!=typeof e)throw Error("Converter expects the passed parameter to be an object, but "+typeof e+" was passed instead.");for(var n in e)e.hasOwnProperty(n)&&(l[n]=e[n]);l.extensions&&r.helper.forEach(l.extensions,u)}function u(e,n){if(n=n||null,r.helper.isString(e)){if(e=r.helper.stdExtName(e),n=e,r.extensions[e])return console.warn("DEPRECATION WARNING: "+e+" is an old extension that uses a deprecated loading method.Please inform the developer that the extension should be updated!"),void c(r.extensions[e],e);if(r.helper.isUndefined(o[e]))throw Error('Extension "'+e+'" could not be loaded. It was either not found or is not a valid extension.');e=o[e]}"function"==typeof e&&(e=e()),r.helper.isArray(e)||(e=[e]);var a=t(e,n);if(!a.valid)throw Error(a.error);for(var s=0;s<e.length;++s)switch(e[s].type){case"lang":p.push(e[s]);break;case"output":f.push(e[s]);break;default:throw Error("Extension loader error: Type unrecognized!!!")}}function c(e,n){"function"==typeof e&&(e=e(new r.Converter)),r.helper.isArray(e)||(e=[e]);var a=t(e,n);if(!a.valid)throw Error(a.error);for(var o=0;o<e.length;++o)switch(e[o].type){case"lang":p.push(e[o]);break;case"output":f.push(e[o]);break;default:throw Error("Extension loader error: Type unrecognized!!!")}}var l={},p=[],f=[],d=["githubCodeBlocks","hashHTMLBlocks","stripLinkDefinitions","blockGamut","unescapeSpecialChars"];n(),this.makeHtml=function(e){if(!e)return e;var t={gHtmlBlocks:[],gUrls:{},gTitles:{},gDimensions:{},gListLevel:0,hashLinkCounts:{},langExtensions:p,outputModifiers:f,converter:this};e=e.replace(/~/g,"~T"),e=e.replace(/\$/g,"~D"),e=e.replace(/\r\n/g,"\n"),e=e.replace(/\r/g,"\n"),e="\n\n"+e+"\n\n",e=r.subParser("detab")(e,l,t),e=r.subParser("stripBlankLines")(e,l,t),r.helper.forEach(p,function(n){e=r.subParser("runExtension")(n,e,l,t)});for(var n=0;n<d.length;++n){var o=d[n];e=a[o](e,l,t)}return e=e.replace(/~D/g,"$$"),e=e.replace(/~T/g,"~"),r.helper.forEach(f,function(n){e=r.subParser("runExtension")(n,e,l,t)}),e},this.setOption=function(e,t){l[e]=t},this.getOption=function(e){return l[e]},this.getOptions=function(){return l},this.addExtension=function(e,t){t=t||null,u(e,t)},this.useExtension=function(e){u(e)},this.setFlavor=function(e){if(i.hasOwnProperty(e)){var t=i[e];for(var n in t)t.hasOwnProperty(n)&&(l[n]=t[n])}},this.removeExtension=function(e){r.helper.isArray(e)||(e=[e]);for(var t=0;t<e.length;++t){for(var n=e[t],a=0;a<p.length;++a)p[a]===n&&p[a].splice(a,1);for(var o=0;o<f.length;++a)f[o]===n&&f[o].splice(a,1)}},this.getAllExtensions=function(){return{language:p,output:f}}},r.subParser("anchors",function(e,t,n){var a=function(e,t,a,o,s,i,u,c){r.helper.isUndefined(c)&&(c=""),e=t;var l=a,p=o.toLowerCase(),f=s,d=c;if(!f)if(p||(p=l.toLowerCase().replace(/ ?\n/g," ")),f="#"+p,r.helper.isUndefined(n.gUrls[p])){if(!(e.search(/\(\s*\)$/m)>-1))return e;f=""}else f=n.gUrls[p],r.helper.isUndefined(n.gTitles[p])||(d=n.gTitles[p]);f=r.helper.escapeCharacters(f,"*_",!1);var h='<a href="'+f+'"';return""!==d&&null!==d&&(d=d.replace(/"/g,"&quot;"),d=r.helper.escapeCharacters(d,"*_",!1),h+=' title="'+d+'"'),h+=">"+l+"</a>"};return e=e.replace(/(\[((?:\[[^\]]*\]|[^\[\]])*)\][ ]?(?:\n[ ]*)?\[(.*?)\])()()()()/g,a),e=e.replace(/(\[((?:\[[^\]]*\]|[^\[\]])*)\]\([ \t]*()<?(.*?(?:\(.*?\).*?)?)>?[ \t]*((['"])(.*?)\6[ \t]*)?\))/g,a),e=e.replace(/(\[([^\[\]]+)\])()()()()()/g,a)}),r.subParser("autoLinks",function(e,t){function n(e,t){var n=r.subParser("unescapeSpecialChars")(t);return r.subParser("encodeEmailAddress")(n)}var a=/\b(((https?|ftp|dict):\/\/|www\.)[^'">\s]+\.[^'">\s]+)(?=\s|$)(?!["<>])/gi,o=/<(((https?|ftp|dict):\/\/|www\.)[^'">\s]+)>/gi,s=/\b(?:mailto:)?([-.\w]+@[-a-z0-9]+(\.[-a-z0-9]+)*\.[a-z]+)\b/gi,i=/<(?:mailto:)?([-.\w]+@[-a-z0-9]+(\.[-a-z0-9]+)*\.[a-z]+)>/gi;return e=e.replace(o,'<a href="$1">$1</a>'),e=e.replace(i,n),t.simplifiedAutoLink&&(e=e.replace(a,'<a href="$1">$1</a>'),e=e.replace(s,n)),e}),r.subParser("blockGamut",function(e,t,n){e=r.subParser("blockQuotes")(e,t,n),e=r.subParser("headers")(e,t,n);var a=r.subParser("hashBlock")("<hr />",t,n);return e=e.replace(/^[ ]{0,2}([ ]?\*[ ]?){3,}[ \t]*$/gm,a),e=e.replace(/^[ ]{0,2}([ ]?\-[ ]?){3,}[ \t]*$/gm,a),e=e.replace(/^[ ]{0,2}([ ]?_[ ]?){3,}[ \t]*$/gm,a),e=r.subParser("lists")(e,t,n),e=r.subParser("codeBlocks")(e,t,n),e=r.subParser("tables")(e,t,n),e=r.subParser("hashHTMLBlocks")(e,t,n),e=r.subParser("paragraphs")(e,t,n)}),r.subParser("blockQuotes",function(e,t,n){return e=e.replace(/((^[ \t]{0,3}>[ \t]?.+\n(.+\n)*\n*)+)/gm,function(e,a){var o=a;return o=o.replace(/^[ \t]*>[ \t]?/gm,"~0"),o=o.replace(/~0/g,""),o=o.replace(/^[ \t]+$/gm,""),o=r.subParser("githubCodeBlocks")(o,t,n),o=r.subParser("blockGamut")(o,t,n),o=o.replace(/(^|\n)/g,"$1  "),o=o.replace(/(\s*<pre>[^\r]+?<\/pre>)/gm,function(e,t){var n=t;return n=n.replace(/^  /gm,"~0"),n=n.replace(/~0/g,"")}),r.subParser("hashBlock")("<blockquote>\n"+o+"\n</blockquote>",t,n)})}),r.subParser("codeBlocks",function(e,t,n){e+="~0";var a=/(?:\n\n|^)((?:(?:[ ]{4}|\t).*\n+)+)(\n*[ ]{0,3}[^ \t\n]|(?=~0))/g;return e=e.replace(a,function(e,a,o){var s=a,i=o,u="\n";return s=r.subParser("outdent")(s),s=r.subParser("encodeCode")(s),s=r.subParser("detab")(s),s=s.replace(/^\n+/g,""),s=s.replace(/\n+$/g,""),t.omitExtraWLInCodeBlocks&&(u=""),s="<pre><code>"+s+u+"</code></pre>",r.subParser("hashBlock")(s,t,n)+i}),e=e.replace(/~0/,"")}),r.subParser("codeSpans",function(e){return e=e.replace(/(<code[^><]*?>)([^]*?)<\/code>/g,function(e,t,n){return n=n.replace(/^([ \t]*)/g,""),n=n.replace(/[ \t]*$/g,""),n=r.subParser("encodeCode")(n),t+n+"</code>"}),e=e.replace(/(^|[^\\])(`+)([^\r]*?[^`])\2(?!`)/gm,function(e,t,n,a){var o=a;return o=o.replace(/^([ \t]*)/g,""),o=o.replace(/[ \t]*$/g,""),o=r.subParser("encodeCode")(o),t+"<code>"+o+"</code>"})}),r.subParser("detab",function(e){return e=e.replace(/\t(?=\t)/g,"    "),e=e.replace(/\t/g,"~A~B"),e=e.replace(/~B(.+?)~A/g,function(e,t){for(var n=t,r=4-n.length%4,a=0;r>a;a++)n+=" ";return n}),e=e.replace(/~A/g,"    "),e=e.replace(/~B/g,"")}),r.subParser("encodeAmpsAndAngles",function(e){return e=e.replace(/&(?!#?[xX]?(?:[0-9a-fA-F]+|\w+);)/g,"&amp;"),e=e.replace(/<(?![a-z\/?\$!])/gi,"&lt;")}),r.subParser("encodeBackslashEscapes",function(e){return e=e.replace(/\\(\\)/g,r.helper.escapeCharactersCallback),e=e.replace(/\\([`*_{}\[\]()>#+-.!])/g,r.helper.escapeCharactersCallback)}),r.subParser("encodeCode",function(e){return e=e.replace(/&/g,"&amp;"),e=e.replace(/</g,"&lt;"),e=e.replace(/>/g,"&gt;"),e=r.helper.escapeCharacters(e,"*_{}[]\\",!1)}),r.subParser("encodeEmailAddress",function(e){var t=[function(e){return"&#"+e.charCodeAt(0)+";"},function(e){return"&#x"+e.charCodeAt(0).toString(16)+";"},function(e){return e}];return e="mailto:"+e,e=e.replace(/./g,function(e){if("@"===e)e=t[Math.floor(2*Math.random())](e);else if(":"!==e){var n=Math.random();e=n>.9?t[2](e):n>.45?t[1](e):t[0](e)}return e}),e='<a href="'+e+'">'+e+"</a>",e=e.replace(/">.+:/g,'">')}),r.subParser("escapeSpecialCharsWithinTagAttributes",function(e){var t=/(<[a-z\/!$]("[^"]*"|'[^']*'|[^'">])*>|<!(--.*?--\s*)+>)/gi;return e=e.replace(t,function(e){var t=e.replace(/(.)<\/?code>(?=.)/g,"$1`");return t=r.helper.escapeCharacters(t,"\\`*_",!1)})}),r.subParser("githubCodeBlocks",function(e,t,n){return t.ghCodeBlocks?(e+="~0",e=e.replace(/(?:^|\n)```(.*)\n([\s\S]*?)\n```/g,function(e,a,o){var s=t.omitExtraWLInCodeBlocks?"":"\n";return o=r.subParser("encodeCode")(o),o=r.subParser("detab")(o),o=o.replace(/^\n+/g,""),o=o.replace(/\n+$/g,""),o="<pre><code"+(a?' class="'+a+" language-"+a+'"':"")+">"+o+s+"</code></pre>",r.subParser("hashBlock")(o,t,n)}),e=e.replace(/~0/,"")):e}),r.subParser("hashBlock",function(e,t,n){return e=e.replace(/(^\n+|\n+$)/g,""),"\n\n~K"+(n.gHtmlBlocks.push(e)-1)+"K\n\n"}),r.subParser("hashElement",function(e,t,n){return function(e,t){var r=t;return r=r.replace(/\n\n/g,"\n"),r=r.replace(/^\n/,""),r=r.replace(/\n+$/g,""),r="\n\n~K"+(n.gHtmlBlocks.push(r)-1)+"K\n\n"}}),r.subParser("hashHTMLBlocks",function(e,t,n){return e=e.replace(/\n/g,"\n\n"),e=e.replace(/^(<(p|div|h[1-6]|blockquote|pre|table|dl|ol|ul|script|noscript|form|fieldset|math|ins|del)\b[^\r]*?\n<\/\2>[ \t]*(?=\n+))/gm,r.subParser("hashElement")(e,t,n)),e=e.replace(/^(<(p|div|h[1-6]|blockquote|pre|table|dl|ol|ul|script|noscript|form|fieldset|math|style|section|header|footer|nav|article|aside|address|audio|canvas|figure|hgroup|output|video)\b[^\r]*?<\/\2>[ \t]*(?=\n+)\n)/gm,r.subParser("hashElement")(e,t,n)),e=e.replace(/(\n[ ]{0,3}(<(hr)\b([^<>])*?\/?>)[ \t]*(?=\n{2,}))/g,r.subParser("hashElement")(e,t,n)),e=e.replace(/(\n\n[ ]{0,3}<!(--[^\r]*?--\s*)+>[ \t]*(?=\n{2,}))/g,r.subParser("hashElement")(e,t,n)),e=e.replace(/(?:\n\n)([ ]{0,3}(?:<([?%])[^\r]*?\2>)[ \t]*(?=\n{2,}))/g,r.subParser("hashElement")(e,t,n)),e=e.replace(/\n\n/g,"\n")}),r.subParser("headers",function(e,t,n){function a(e){var t,a=e.replace(/[^\w]/g,"").toLowerCase();return n.hashLinkCounts[a]?t=a+"-"+n.hashLinkCounts[a]++:(t=a,n.hashLinkCounts[a]=1),o===!0&&(o="section"),r.helper.isString(o)?o+t:t}var o=t.prefixHeaderId,s=isNaN(parseInt(t.headerLevelStart))?1:parseInt(t.headerLevelStart),i=t.smoothLivePreview?/^(.+)[ \t]*\n={2,}[ \t]*\n+/gm:/^(.+)[ \t]*\n=+[ \t]*\n+/gm,u=t.smoothLivePreview?/^(.+)[ \t]*\n-{2,}[ \t]*\n+/gm:/^(.+)[ \t]*\n-+[ \t]*\n+/gm;return e=e.replace(i,function(e,o){var i=r.subParser("spanGamut")(o,t,n),u=t.noHeaderId?"":' id="'+a(o)+'"',c=s,l="<h"+c+u+">"+i+"</h"+c+">";return r.subParser("hashBlock")(l,t,n)}),e=e.replace(u,function(e,o){var i=r.subParser("spanGamut")(o,t,n),u=t.noHeaderId?"":' id="'+a(o)+'"',c=s+1,l="<h"+c+u+">"+i+"</h"+c+">";
return r.subParser("hashBlock")(l,t,n)}),e=e.replace(/^(#{1,6})[ \t]*(.+?)[ \t]*#*\n+/gm,function(e,o,i){var u=r.subParser("spanGamut")(i,t,n),c=t.noHeaderId?"":' id="'+a(i)+'"',l=s-1+o.length,p="<h"+l+c+">"+u+"</h"+l+">";return r.subParser("hashBlock")(p,t,n)})}),r.subParser("images",function(e,t,n){function a(e,t,a,o,s,i,u,c){var l=n.gUrls,p=n.gTitles,f=n.gDimensions;if(a=a.toLowerCase(),c||(c=""),""===o||null===o){if((""===a||null===a)&&(a=t.toLowerCase().replace(/ ?\n/g," ")),o="#"+a,r.helper.isUndefined(l[a]))return e;o=l[a],r.helper.isUndefined(p[a])||(c=p[a]),r.helper.isUndefined(f[a])||(s=f[a].width,i=f[a].height)}t=t.replace(/"/g,"&quot;"),t=r.helper.escapeCharacters(t,"*_",!1),o=r.helper.escapeCharacters(o,"*_",!1);var d='<img src="'+o+'" alt="'+t+'"';return c&&(c=c.replace(/"/g,"&quot;"),c=r.helper.escapeCharacters(c,"*_",!1),d+=' title="'+c+'"'),s&&i&&(s="*"===s?"auto":s,i="*"===i?"auto":i,d+=' width="'+s+'"',d+=' height="'+i+'"'),d+=" />"}var o=/!\[(.*?)]\s?\([ \t]*()<?(\S+?)>?(?: =([*\d]+[A-Za-z%]{0,4})x([*\d]+[A-Za-z%]{0,4}))?[ \t]*(?:(['"])(.*?)\6[ \t]*)?\)/g,s=/!\[(.*?)][ ]?(?:\n[ ]*)?\[(.*?)]()()()()()/g;return e=e.replace(s,a),e=e.replace(o,a)}),r.subParser("italicsAndBold",function(e,t){return t.literalMidWordUnderscores?(e=e.replace(/(^|\s|>|\b)__(?=\S)([^]+?)__(?=\b|<|\s|$)/gm,"$1<strong>$2</strong>"),e=e.replace(/(^|\s|>|\b)_(?=\S)([^]+?)_(?=\b|<|\s|$)/gm,"$1<em>$2</em>"),e=e.replace(/\*\*(?=\S)([^]+?)\*\*/g,"<strong>$1</strong>"),e=e.replace(/\*(?=\S)([^]+?)\*/g,"<em>$1</em>")):(e=e.replace(/(\*\*|__)(?=\S)([^\r]*?\S[*_]*)\1/g,"<strong>$2</strong>"),e=e.replace(/(\*|_)(?=\S)([^\r]*?\S)\1/g,"<em>$2</em>")),e}),r.subParser("lists",function(e,t,n){function a(e,a){n.gListLevel++,e=e.replace(/\n{2,}$/,"\n"),e+="~0";var o=/(\n)?(^[ \t]*)([*+-]|\d+[.])[ \t]+((\[(x| )?])?[ \t]*[^\r]+?(\n{1,2}))(?=\n*(~0|\2([*+-]|\d+[.])[ \t]+))/gm,s=/\n[ \t]*\n(?!~0)/.test(e);return e=e.replace(o,function(e,a,o,i,u,c,l){l=l&&""!==l.trim();var p=r.subParser("outdent")(u,t,n),f="";return c&&t.tasklists&&(f=' class="task-list-item" style="list-style-type: none;"',p=p.replace(/^[ \t]*\[(x| )?]/m,function(){var e='<input type="checkbox" disabled style="margin: 0px 0.35em 0.25em -1.6em; vertical-align: middle;"';return l&&(e+=" checked"),e+=">"})),a||p.search(/\n{2,}/)>-1?(p=r.subParser("githubCodeBlocks")(p,t,n),p=r.subParser("blockGamut")(p,t,n)):(p=r.subParser("lists")(p,t,n),p=p.replace(/\n$/,""),p=s?r.subParser("paragraphs")(p,t,n):r.subParser("spanGamut")(p,t,n)),p="\n<li"+f+">"+p+"</li>\n"}),e=e.replace(/~0/g,""),n.gListLevel--,a&&(e=e.replace(/\s+$/,"")),e}function o(e,t,n){var r="ul"===t?/^ {0,2}\d+\.[ \t]/gm:/^ {0,2}[*+-][ \t]/gm,o=[],s="";if(-1!==e.search(r)){!function u(e){var o=e.search(r);-1!==o?(s+="\n\n<"+t+">"+a(e.slice(0,o),!!n)+"</"+t+">\n\n",t="ul"===t?"ol":"ul",r="ul"===t?/^ {0,2}\d+\.[ \t]/gm:/^ {0,2}[*+-][ \t]/gm,u(e.slice(o))):s+="\n\n<"+t+">"+a(e,!!n)+"</"+t+">\n\n"}(e);for(var i=0;i<o.length;++i);}else s="\n\n<"+t+">"+a(e,!!n)+"</"+t+">\n\n";return s}e+="~0";var s=/^(([ ]{0,3}([*+-]|\d+[.])[ \t]+)[^\r]+?(~0|\n{2,}(?=\S)(?![ \t]*(?:[*+-]|\d+[.])[ \t]+)))/gm;return n.gListLevel?e=e.replace(s,function(e,t,n){var r=n.search(/[*+-]/g)>-1?"ul":"ol";return o(t,r,!0)}):(s=/(\n\n|^\n?)(([ ]{0,3}([*+-]|\d+[.])[ \t]+)[^\r]+?(~0|\n{2,}(?=\S)(?![ \t]*(?:[*+-]|\d+[.])[ \t]+)))/gm,e=e.replace(s,function(e,t,n,r){var a=r.search(/[*+-]/g)>-1?"ul":"ol";return o(n,a)})),e=e.replace(/~0/,"")}),r.subParser("outdent",function(e){return e=e.replace(/^(\t|[ ]{1,4})/gm,"~0"),e=e.replace(/~0/g,"")}),r.subParser("paragraphs",function(e,t,n){e=e.replace(/^\n+/g,""),e=e.replace(/\n+$/g,"");for(var a=e.split(/\n{2,}/g),o=[],s=a.length,i=0;s>i;i++){var u=a[i];u.search(/~K(\d+)K/g)>=0?o.push(u):u.search(/\S/)>=0&&(u=r.subParser("spanGamut")(u,t,n),u=u.replace(/^([ \t]*)/g,"<p>"),u+="</p>",o.push(u))}for(s=o.length,i=0;s>i;i++)for(;o[i].search(/~K(\d+)K/)>=0;){var c=n.gHtmlBlocks[RegExp.$1];c=c.replace(/\$/g,"$$$$"),o[i]=o[i].replace(/~K\d+K/,c)}return o.join("\n\n")}),r.subParser("runExtension",function(e,t,n,r){if(e.filter)t=e.filter(t,r.converter,n);else if(e.regex){var a=e.regex;!a instanceof RegExp&&(a=new RegExp(a,"g")),t=t.replace(a,e.replace)}return t}),r.subParser("spanGamut",function(e,t,n){return e=r.subParser("codeSpans")(e,t,n),e=r.subParser("escapeSpecialCharsWithinTagAttributes")(e,t,n),e=r.subParser("encodeBackslashEscapes")(e,t,n),e=r.subParser("images")(e,t,n),e=r.subParser("anchors")(e,t,n),e=r.subParser("autoLinks")(e,t,n),e=r.subParser("encodeAmpsAndAngles")(e,t,n),e=r.subParser("italicsAndBold")(e,t,n),e=r.subParser("strikethrough")(e,t,n),e=e.replace(/  +\n/g," <br />\n")}),r.subParser("strikethrough",function(e,t){return t.strikethrough&&(e=e.replace(/(?:~T){2}([^~]+)(?:~T){2}/g,"<del>$1</del>")),e}),r.subParser("stripBlankLines",function(e){return e.replace(/^[ \t]+$/gm,"")}),r.subParser("stripLinkDefinitions",function(e,t,n){var a=/^ {0,3}\[(.+)]:[ \t]*\n?[ \t]*<?(\S+?)>?(?: =([*\d]+[A-Za-z%]{0,4})x([*\d]+[A-Za-z%]{0,4}))?[ \t]*\n?[ \t]*(?:(\n*)["|'(](.+?)["|')][ \t]*)?(?:\n+|(?=~0))/gm;return e+="~0",e=e.replace(a,function(e,a,o,s,i,u,c){return a=a.toLowerCase(),n.gUrls[a]=r.subParser("encodeAmpsAndAngles")(o),u?u+c:(c&&(n.gTitles[a]=c.replace(/"|'/g,"&quot;")),t.parseImgDimensions&&s&&i&&(n.gDimensions[a]={width:s,height:i}),"")}),e=e.replace(/~0/,"")}),r.subParser("tables",function(e,t,n){var a=function(){var e,a={};return a.th=function(e,a){var o="";return e=e.trim(),""===e?"":(t.tableHeaderId&&(o=' id="'+e.replace(/ /g,"_").toLowerCase()+'"'),e=r.subParser("spanGamut")(e,t,n),a=a&&""!==a.trim()?' style="'+a+'"':"","<th"+o+a+">"+e+"</th>")},a.td=function(e,a){var o=r.subParser("spanGamut")(e.trim(),t,n);return a=a&&""!==a.trim()?' style="'+a+'"':"","<td"+a+">"+o+"</td>"},a.ths=function(){var e="",t=0,n=[].slice.apply(arguments[0]),r=[].slice.apply(arguments[1]);for(t;t<n.length;t+=1)e+=a.th(n[t],r[t])+"\n";return e},a.tds=function(){var e="",t=0,n=[].slice.apply(arguments[0]),r=[].slice.apply(arguments[1]);for(t;t<n.length;t+=1)e+=a.td(n[t],r[t])+"\n";return e},a.thead=function(){var e,t=[].slice.apply(arguments[0]),n=[].slice.apply(arguments[1]);return e="<thead>\n",e+="<tr>\n",e+=a.ths.apply(this,[t,n]),e+="</tr>\n",e+="</thead>\n"},a.tr=function(){var e,t=[].slice.apply(arguments[0]),n=[].slice.apply(arguments[1]);return e="<tr>\n",e+=a.tds.apply(this,[t,n]),e+="</tr>\n"},e=function(e){var t,n,r=0,o=e.split("\n"),s=[];for(r;r<o.length;r+=1){if(t=o[r],t.trim().match(/^[|].*[|]$/)){t=t.trim();var i=[],u=o[r+1].trim(),c=[],l=0;if(u.match(/^[|][-=|: ]+[|]$/))for(c=u.substring(1,u.length-1).split("|"),l=0;l<c.length;++l)c[l]=c[l].trim(),c[l].match(/^[:][-=| ]+[:]$/)?c[l]="text-align:center;":c[l].match(/^[-=| ]+[:]$/)?c[l]="text-align:right;":c[l].match(/^[:][-=| ]+$/)?c[l]="text-align:left;":c[l]="";if(i.push("<table>"),n=t.substring(1,t.length-1).split("|"),0===c.length)for(l=0;l<n.length;++l)c.push("text-align:left");if(i.push(a.thead.apply(this,[n,c])),t=o[++r],t.trim().match(/^[|][-=|: ]+[|]$/)){for(t=o[++r],i.push("<tbody>");t.trim().match(/^[|].*[|]$/);)t=t.trim(),i.push(a.tr.apply(this,[t.substring(1,t.length-1).split("|"),c])),t=o[++r];i.push("</tbody>"),i.push("</table>"),s.push(i.join("\n"));continue}t=o[--r]}s.push(t)}return s.join("\n")},{parse:e}};if(t.tables){var o=a();return o.parse(e)}return e}),r.subParser("unescapeSpecialChars",function(e){return e=e.replace(/~E(\d+)E/g,function(e,t){var n=parseInt(t);return String.fromCharCode(n)})});var u=this;"undefined"!=typeof module&&module.exports?module.exports=r:"function"==typeof define&&define.amd?define("showdown",function(){return r}):u.showdown=r}.call(this),function(){function e(e){return e.replace(/^\s+|\s+$/g,"")}function t(e){return e.replace(/\s+$/g,"")}function n(e){return e.replace(new RegExp("^(\\t|[ ]{1,4})","gm"),"")}function r(e,t){return-1!=e.indexOf(t)}function a(e,t){return e.replace(/<[^>]*>?/gi,function(e){return e.match(t)?e:""})}function o(e,t){for(var n={},r=0;r<e.length;r++)n[e[r]]=e[r];for(r=0;r<t.length;r++)n[t[r]]=t[r];var a=[];for(var o in n)n.hasOwnProperty(o)&&a.push(n[o]);return a}function s(e){return""!=e.charAt(0)&&(e=""+e),""!=e.charAt(e.length-1)&&(e+=""),e}function i(e){return""==e.charAt(0)&&(e=e.substr(1)),""==e.charAt(e.length-1)&&(e=e.substr(0,e.length-1)),e}function u(e,t){return a(c(e,t),g)}function c(e,t){var n=t.blockGamutHookCallback(e);return n=f(n),n=n.replace(/~D/g,"$$").replace(/~T/g,"~"),n=t.previousPostConversion(n)}function l(e){return e.replace(/\\\|/g,"~I").replace(/\\:/g,"~i")}function p(e){return e.replace(/~I/g,"|").replace(/~i/g,":")}function f(e){return e=e.replace(/~E(\d+)E/g,function(e,t){var n=parseInt(t);return String.fromCharCode(n)})}function d(e){return e.toLowerCase().replace(/\s+/g,"-").replace(/[^\w\-]+/g,"").replace(/\-\-+/g,"-").replace(/^-+/,"").replace(/-+$/,"")}function h(e,t){var n=t;return n=n.replace(/&\#8220;/g,'"'),n=n.replace(/&\#8221;/g,'"'),n=n.replace(/&\#8216;/g,"'"),n=n.replace(/&\#8217;/g,"'"),n=n.replace(/&\#8212;/g,"---"),n=n.replace(/&\#8211;/g,"--"),n=n.replace(/&\#8230;/g,"...")}var g=new RegExp(["^(<\\/?(a|abbr|acronym|applet|area|b|basefont|","bdo|big|button|cite|code|del|dfn|em|figcaption|","font|i|iframe|img|input|ins|kbd|label|map|","mark|meter|object|param|progress|q|ruby|rp|rt|s|","samp|script|select|small|span|strike|strong|","sub|sup|textarea|time|tt|u|var|wbr)[^>]*>|","<(br)\\s?\\/?>)$"].join(""),"i");Array.indexOf||(Array.prototype.indexOf=function(e){for(var t=0;t<this.length;t++)if(this[t]==e)return t;return-1}),Markdown.Extra=function(){this.converter=null,this.hashBlocks=[],this.footnotes={},this.usedFootnotes=[],this.attributeBlocks=!1,this.googleCodePrettify=!1,this.highlightJs=!1,this.tableClass="",this.tabWidth=4},Markdown.Extra.init=function(e,t){var n=new Markdown.Extra,a=[],o=[],s=[],i=["unHashExtraBlocks"];return t=t||{},t.extensions=t.extensions||["all"],r(t.extensions,"all")&&(t.extensions=["tables","fenced_code_gfm","def_list","attr_list","footnotes","smartypants","strikethrough","newlines"]),o.push("wrapHeaders"),r(t.extensions,"attr_list")&&(a.push("hashFcbAttributeBlocks"),o.push("hashHeaderAttributeBlocks"),i.push("applyAttributeBlocks"),n.attributeBlocks=!0),r(t.extensions,"fenced_code_gfm")&&(o.push("fencedCodeBlocks"),a.push("fencedCodeBlocks")),r(t.extensions,"tables")&&o.push("tables"),r(t.extensions,"def_list")&&o.push("definitionLists"),r(t.extensions,"footnotes")&&(a.push("stripFootnoteDefinitions"),o.push("doFootnotes"),i.push("printFootnotes")),r(t.extensions,"smartypants")&&i.push("runSmartyPants"),r(t.extensions,"strikethrough")&&s.push("strikethrough"),r(t.extensions,"newlines")&&s.push("newlines"),e.hooks.chain("postNormalization",function(e){return n.doTransform(a,e)+"\n"}),e.hooks.chain("preBlockGamut",function(e,t){return n.blockGamutHookCallback=t,e=l(e),e=n.doTransform(o,e)+"\n",e=p(e)}),e.hooks.chain("postSpanGamut",function(e){return n.doTransform(s,e)}),n.previousPostConversion=e.hooks.postConversion,e.hooks.chain("postConversion",function(e){return e=n.doTransform(i,e),n.hashBlocks=[],n.footnotes={},n.usedFootnotes=[],e}),"highlighter"in t&&(n.googleCodePrettify="prettify"===t.highlighter,n.highlightJs="highlight"===t.highlighter),"table_class"in t&&(n.tableClass=t.table_class),n.converter=e,n},Markdown.Extra.prototype.doTransform=function(e,t){for(var n=0;n<e.length;n++)t=this[e[n]](t);return t},Markdown.Extra.prototype.hashExtraBlock=function(e){return"\n<p>~X"+(this.hashBlocks.push(e)-1)+"X</p>\n"},Markdown.Extra.prototype.hashExtraInline=function(e){return"~X"+(this.hashBlocks.push(e)-1)+"X"},Markdown.Extra.prototype.unHashExtraBlocks=function(e){function t(){var r=!1;e=e.replace(/(?:<p>)?~X(\d+)X(?:<\/p>)?/g,function(e,t){r=!0;var a=parseInt(t,10);return n.hashBlocks[a]}),r===!0&&t()}var n=this;return t(),e},Markdown.Extra.prototype.wrapHeaders=function(e){function t(e){return"\n"+e+"\n"}return e=e.replace(/^.+[ \t]*\n=+[ \t]*\n+/gm,t),e=e.replace(/^.+[ \t]*\n-+[ \t]*\n+/gm,t),e=e.replace(/^\#{1,6}[ \t]*.+?[ \t]*\#*\n+/gm,t)};var m="\\{[ \\t]*((?:[#.][-_:a-zA-Z0-9]+[ \\t]*)+)\\}",b=new RegExp("^(#{1,6}.*#{0,6})[ \\t]+"+m+"[ \\t]*(?:\\n|0x03)","gm"),v=new RegExp("^(.*)[ \\t]+"+m+"[ \\t]*\\n(?=[\\-|=]+\\s*(?:\\n|0x03))","gm"),$=new RegExp("^(```[^`\\n]*)[ \\t]+"+m+"[ \\t]*\\n(?=([\\s\\S]*?)\\n```[ \\t]*(\\n|0x03))","gm");Markdown.Extra.prototype.hashHeaderAttributeBlocks=function(e){function t(e,t,r){return"<p>~XX"+(n.hashBlocks.push(r)-1)+"XX</p>\n"+t+"\n"}var n=this;return e=e.replace(b,t),e=e.replace(v,t)},Markdown.Extra.prototype.hashFcbAttributeBlocks=function(e){function t(e,t,r){return"<p>~XX"+(n.hashBlocks.push(r)-1)+"XX</p>\n"+t+"\n"}var n=this;return e.replace($,t)},Markdown.Extra.prototype.applyAttributeBlocks=function(e){var t=this,n=new RegExp('<p>~XX(\\d+)XX</p>[\\s]*(?:<(h[1-6]|pre)(?: +class="(\\S+)")?(>[\\s\\S]*?</\\2>))',"gm");return e=e.replace(n,function(e,n,r,a,s){if(!r)return"";for(var i=parseInt(n,10),u=t.hashBlocks[i],c=u.match(/#[^\s#.]+/g)||[],l=c[0]?' id="'+c[0].substr(1,c[0].length-1)+'"':"",p=u.match(/\.[^\s#.]+/g)||[],f=0;f<p.length;f++)p[f]=p[f].substr(1,p[f].length-1);var d="";return a&&(p=o(p,[a])),p.length>0&&(d=' class="'+p.join(" ")+'"'),"<"+r+l+d+s})},Markdown.Extra.prototype.tables=function(t){function n(t,n,a,o,s,i){n=n.replace(/^ *[|]/m,""),a=a.replace(/^ *[|]/m,""),o=o.replace(/^ *[|]/gm,""),n=n.replace(/[|] *$/m,""),a=a.replace(/[|] *$/m,""),o=o.replace(/[|] *$/gm,"");for(var c=a.split(/ *[|] */),l=[],p=0;p<c.length;p++){var f=c[p];f.match(/^ *-+: *$/m)?l[p]=' align="right"':f.match(/^ *:-+: *$/m)?l[p]=' align="center"':f.match(/^ *:-+ *$/m)?l[p]=' align="left"':l[p]=""}var d=n.split(/ *[|] */),h=d.length,g=r.tableClass?' class="'+r.tableClass+'"':"",m=["<table",g,">\n","<thead>\n","<tr>\n"].join("");for(p=0;h>p;p++){var b=u(e(d[p]),r);m+=["  <th",l[p],">",b,"</th>\n"].join("")}m+="</tr>\n</thead>\n";var v=o.split("\n");for(p=0;p<v.length;p++)if(!v[p].match(/^\s*$/)){for(var $=v[p].split(/ *[|] */),w=h-$.length,k=0;w>k;k++)$.push("");for(m+="<tr>\n",k=0;h>k;k++){var y=u(e($[k]),r);m+=["  <td",l[k],">",y,"</td>\n"].join("")}m+="</tr>\n"}return m+="</table>\n",r.hashExtraBlock(m)}var r=this,a=new RegExp(["^","[ ]{0,3}","[|]","(.+)\\n","[ ]{0,3}","[|]([ ]*[-:]+[-| :]*)\\n","(","(?:[ ]*[|].*\\n?)*",")","(?:\\n|$)"].join(""),"gm"),o=new RegExp(["^","[ ]{0,3}","(\\S.*[|].*)\\n","[ ]{0,3}","([-:]+[ ]*[|][-| :]*)\\n","(","(?:.*[|].*\\n?)*",")","(?:\\n|$)"].join(""),"gm");return t=t.replace(a,n),t=t.replace(o,n)},Markdown.Extra.prototype.stripFootnoteDefinitions=function(e){var t=this;return e=e.replace(/\n[ ]{0,3}\[\^(.+?)\]\:[ \t]*\n?([\s\S]*?)\n{1,2}((?=\n[ ]{0,3}\S)|$)/g,function(e,n,r){return n=d(n),r+="\n",r=r.replace(/^[ ]{0,3}/g,""),t.footnotes[n]=r,"\n"})},Markdown.Extra.prototype.doFootnotes=function(e){var t=this;if(t.isConvertingFootnote===!0)return e;var n=0;return e=e.replace(/\[\^(.+?)\]/g,function(e,r){var a=d(r),o=t.footnotes[a];if(void 0===o)return e;n++,t.usedFootnotes.push(a);var s='<a href="#fn:'+a+'" id="fnref:'+a+'" title="See footnote" class="footnote">'+n+"</a>";return t.hashExtraInline(s)})},Markdown.Extra.prototype.printFootnotes=function(e){var t=this;if(0===t.usedFootnotes.length)return e;e+='\n\n<div class="footnotes">\n<hr>\n<ol>\n\n';for(var n=0;n<t.usedFootnotes.length;n++){var r=t.usedFootnotes[n],a=t.footnotes[r];t.isConvertingFootnote=!0;var o=u(a,t);delete t.isConvertingFootnote,e+='<li id="fn:'+r+'">'+o+' <a href="#fnref:'+r+'" title="Return to article" class="reversefootnote">&#8617;</a></li>\n\n'}return e+="</ol>\n</div>"},Markdown.Extra.prototype.fencedCodeBlocks=function(t){function n(e){return e=e.replace(/&/g,"&amp;"),e=e.replace(/</g,"&lt;"),e=e.replace(/>/g,"&gt;"),e=e.replace(/~D/g,"$$"),e=e.replace(/~T/g,"~")}var r=this;return t=t.replace(/(?:^|\n)```([^`\n]*)\n([\s\S]*?)\n```[ \t]*(?=\n)/g,function(t,a,o){var s=e(a),i=o,u=r.googleCodePrettify?' class="prettyprint"':"",c="";s&&(c=r.googleCodePrettify||r.highlightJs?' class="language-'+s+'"':' class="'+s+'"');var l=["<pre",u,"><code",c,">",n(i),"</code></pre>"].join("");return r.hashExtraBlock(l)})},Markdown.Extra.prototype.educatePants=function(e){var t=this,n="",r=0;e.replace(/(?:<!--[\s\S]*?-->)|(<)([a-zA-Z1-6]+)([^\n]*?>)([\s\S]*?)(<\/\2>)/g,function(a,o,s,i,u,c,l){var p=e.substring(r,l);return n+=t.applyPants(p),t.smartyPantsLastChar=n.substring(n.length-1),r=l+a.length,o?(/code|kbd|pre|script|noscript|iframe|math|ins|del|pre/i.test(s)?t.smartyPantsLastChar=u.substring(u.length-1):u=t.educatePants(u),void(n+=o+s+i+u+c)):void(n+=a)});var a=e.substring(r);return n+=t.applyPants(a),t.smartyPantsLastChar=n.substring(n.length-1),n},Markdown.Extra.prototype.applyPants=function(e){return e=e.replace(/---/g,"&#8212;").replace(/--/g,"&#8211;"),e=e.replace(/\.\.\./g,"&#8230;").replace(/\.\s\.\s\./g,"&#8230;"),e=e.replace(/``/g,"&#8220;").replace(/''/g,"&#8221;"),/^'$/.test(e)?/\S/.test(this.smartyPantsLastChar)?"&#8217;":"&#8216;":/^"$/.test(e)?/\S/.test(this.smartyPantsLastChar)?"&#8221;":"&#8220;":(e=e.replace(/^'(?=[!"#\$\%'()*+,\-.\/:;<=>?\@\[\\]\^_`{|}~]\B)/,"&#8217;"),e=e.replace(/^"(?=[!"#\$\%'()*+,\-.\/:;<=>?\@\[\\]\^_`{|}~]\B)/,"&#8221;"),e=e.replace(/"'(?=\w)/g,"&#8220;&#8216;"),e=e.replace(/'"(?=\w)/g,"&#8216;&#8220;"),e=e.replace(/'(?=\d{2}s)/g,"&#8217;"),e=e.replace(/(\s|&nbsp;|--|&[mn]dash;|&\#8211;|&\#8212;|&\#x201[34];)'(?=\w)/g,"$1&#8216;"),e=e.replace(/([^\s\[\{\(\-])'/g,"$1&#8217;"),e=e.replace(/'(?=\s|s\b)/g,"&#8217;"),e=e.replace(/'/g,"&#8216;"),e=e.replace(/(\s|&nbsp;|--|&[mn]dash;|&\#8211;|&\#8212;|&\#x201[34];)"(?=\w)/g,"$1&#8220;"),e=e.replace(/([^\s\[\{\(\-])"/g,"$1&#8221;"),e=e.replace(/"(?=\s)/g,"&#8221;"),e=e.replace(/"/gi,"&#8220;"))},Markdown.Extra.prototype.runSmartyPants=function(e){return this.smartyPantsLastChar="",e=this.educatePants(e),e=e.replace(/(<([a-zA-Z1-6]+)\b([^\n>]*?)(\/)?>)/g,h)},Markdown.Extra.prototype.definitionLists=function(t){var n=new RegExp(["(\\x02\\n?|\\n\\n)","(?:","(","(","[ ]{0,3}","((?:[ \\t]*\\S.*\\n)+)","\\n?","[ ]{0,3}:[ ]+",")","([\\s\\S]+?)","(","(?=\\0x03)","|","(?=","\\n{2,}","(?=\\S)","(?!","[ ]{0,3}","(?:\\S.*\\n)+?","\\n?","[ ]{0,3}:[ ]+",")","(?!","[ ]{0,3}:[ ]+",")",")",")",")",")"].join(""),"gm"),r=this;return t=s(t),t=t.replace(n,function(t,n,a){var o=e(r.processDefListItems(a));return o="<dl>\n"+o+"\n</dl>",n+r.hashExtraBlock(o)+"\n\n"}),i(t)},Markdown.Extra.prototype.processDefListItems=function(r){var a=this,o=new RegExp(["(\\x02\\n?|\\n\\n+)","(","[ ]{0,3}","(?![:][ ]|[ ])","(?:\\S.*\\n)+?",")","(?=\\n?[ ]{0,3}:[ ])"].join(""),"gm"),l=new RegExp(["\\n(\\n+)?","(","[ ]{0,3}","[:][ ]+",")","([\\s\\S]+?)","(?=\\n*","(?:","\\n[ ]{0,3}[:][ ]|","<dt>|\\x03",")",")"].join(""),"gm");return r=s(r),r=r.replace(/\n{2,}(?=\\x03)/,"\n"),r=r.replace(o,function(t,n,r){for(var o=e(r).split("\n"),s="",i=0;i<o.length;i++){var c=o[i];c=u(e(c),a),s+="\n<dt>"+c+"</dt>"}return s+"\n"}),r=r.replace(l,function(e,r,o,s){return r||s.match(/\n{2,}/)?(s=Array(o.length+1).join(" ")+s,s=n(s)+"\n\n",s="\n"+c(s,a)+"\n"):(s=t(s),s=u(n(s),a)),"\n<dd>"+s+"</dd>\n"}),i(r)},Markdown.Extra.prototype.strikethrough=function(e){return e.replace(/([\W_]|^)~T~T(?=\S)([^\r]*?\S[\*_]*)~T~T([\W_]|$)/g,"$1<del>$2</del>$3")},Markdown.Extra.prototype.newlines=function(e){return e.replace(/(<(?:br|\/li)>)?\n/g,function(e,t){return t?e:" <br>\n"})}}(),function(e){function t(e){return new RegExp("(^|\\s+)"+e+"(\\s+|$)")}function n(e,t){var n=r(e,t)?o:a;n(e,t)}var r,a,o;"classList"in document.documentElement?(r=function(e,t){return e.classList.contains(t)},a=function(e,t){e.classList.add(t)},o=function(e,t){e.classList.remove(t)}):(r=function(e,n){return t(n).test(e.className)},a=function(e,t){r(e,t)||(e.className=e.className+" "+t)},o=function(e,n){e.className=e.className.replace(t(n)," ")});var s={hasClass:r,addClass:a,removeClass:o,toggleClass:n,has:r,add:a,remove:o,toggle:n};"function"==typeof define&&define.amd?define(s):e.classie=s}(window),function(e){function t(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n]);return e}function n(e,n){this.el=e,this.options=t({},this.options),t(this.options,n),this.ctrlClose=this.el.querySelector("[data-dialog-close]"),this.isOpen=!1,this._initEvents()}var r={animations:Modernizr.cssanimations},a={WebkitAnimation:"webkitAnimationEnd",OAnimation:"oAnimationEnd",msAnimation:"MSAnimationEnd",animation:"animationend"},o=a[Modernizr.prefixed("animation")],s=function(e,t){var n=function(e){if(r.animations){if(e.target!=this)return;this.removeEventListener(o,n)}t&&"function"==typeof t&&t.call()};r.animations?e.addEventListener(o,n):n()};n.prototype.options={onOpenDialog:function(){return!1},onCloseDialog:function(){return!1}},n.prototype._initEvents=function(){var e=this;this.ctrlClose.addEventListener("click",this.toggle.bind(this)),document.addEventListener("keydown",function(t){var n=t.keyCode||t.which;27===n&&e.isOpen&&e.toggle()}),this.el.querySelector(".dialog__overlay").addEventListener("click",this.toggle.bind(this))},n.prototype.toggle=function(){var e=this;this.isOpen?(classie.remove(this.el,"dialog--open"),classie.add(e.el,"dialog--close"),s(this.el.querySelector(".dialog__content"),function(){classie.remove(e.el,"dialog--close")}),this.options.onCloseDialog(this)):(classie.add(this.el,"dialog--open"),1==!$("#post_type_id").val()&&($("#post_type_id").attr("value","1"),$(".post-submit-link").show(),$("#url").focus()),this.options.onOpenDialog(this)),this.isOpen=!this.isOpen},e.DialogFx=n}(window),function(e,t,n){e.DropDown=function(t,n){this.$el=e(n),this._init(t)},e.DropDown.defaults={speed:350,easing:"ease",gutter:0,stack:!0,delay:0,random:!1,rotated:!1,slidingIn:!1,onOptionSelect:function(e){return!1}},e.DropDown.prototype={_init:function(t){this.options=e.extend(!0,{},e.DropDown.defaults,t),this._layout(),this._initEvents()},_layout:function(){var t=this;this.minZIndex=2;var r=this._transformSelect();this.opts=this.listopts.children("li"),this.optsCount=this.opts.length,this.size={width:this.dd.width(),height:this.dd.height()};var a=this.$el.attr("name"),o=this.$el.attr("id"),s=a!==n?a:o!==n?o:"cd-dropdown-"+(new Date).getTime();this.inputEl=e('<input type="hidden" name="'+s+'" value="'+r+'"></input>').insertAfter(this.selectlabel),this.selectlabel.css("z-index",this.minZIndex+this.optsCount),this._positionOpts(),Modernizr.csstransitions&&setTimeout(function(){t.opts.css("transition","all "+t.options.speed+"ms "+t.options.easing)},25)},_transformSelect:function(){var t="",r="",a=-1;return this.$el.children("option").each(function(){var o=e(this),s=isNaN(o.attr("value"))?o.attr("value"):Number(o.attr("value")),i=o.attr("class"),u=o.attr("selected"),c=o.text();-1!==s&&(t+=i!==n?'<li data-value="'+s+'"><span class="'+i+'">'+c+"</span></li>":'<li data-value="'+s+'"><span>'+c+"</span></li>"),u&&(r=c,a=s)}),this.listopts=e("<ul/>").append(t),this.selectlabel=e("<span/>").append(r),this.dd=e('<div class="cd-dropdown"/>').append(this.selectlabel,this.listopts).insertAfter(this.$el),this.$el.remove(),a},_positionOpts:function(t){var n=this;this.listopts.css("height","auto"),this.opts.each(function(t){e(this).css({zIndex:n.minZIndex+n.optsCount-1-t,top:n.options.slidingIn?(t+1)*(n.size.height+n.options.gutter):0,left:0,marginLeft:n.options.slidingIn?t%2===0?n.options.slidingIn:-n.options.slidingIn:0,opacity:n.options.slidingIn?0:1,transform:"none"})})},_initEvents:function(){var n=this;this.selectlabel.on("mousedown.dropdown",function(e){return n.opened?n.close():n.open(),!1}),this.opts.on("click.dropdown",function(){if(n.opened){var r=e(this);n.options.onOptionSelect(r),n.inputEl.val(r.data("value")),n.selectlabel.html(r.html()),t.location.replace(r.data("value")),n.close()}})},open:function(){var t=this;this.dd.toggleClass("cd-active"),this.listopts.css("height",(this.optsCount+1)*(this.size.height+this.options.gutter)),this.opts.each(function(n){e(this).css({opacity:1,top:t.options.rotated?t.size.height+t.options.gutter:(n+1)*(t.size.height+t.options.gutter),left:t.options.random?Math.floor(11*Math.random()-5):0,width:t.size.width,marginLeft:0,transform:t.options.random?"rotate("+Math.floor(11*Math.random()-5)+"deg)":t.options.rotated?"right"===t.options.rotated?"rotate(-"+5*n+"deg)":"rotate("+5*n+"deg)":"none",transitionDelay:t.options.delay&&Modernizr.csstransitions?t.options.slidingIn?n*t.options.delay+"ms":(t.optsCount-1-n)*t.options.delay+"ms":0})}),this.opened=!0},close:function(){var t=this;this.dd.toggleClass("cd-active"),this.options.delay&&Modernizr.csstransitions&&this.opts.each(function(n){e(this).css({"transition-delay":t.options.slidingIn?(t.optsCount-1-n)*t.options.delay+"ms":n*t.options.delay+"ms"})}),this._positionOpts(!0),this.opened=!1}},e.fn.dropdown=function(t){var n=e.data(this,"dropdown");if("string"==typeof t){var r=Array.prototype.slice.call(arguments,1);this.each(function(){n[t].apply(n,r)})}else this.each(function(){n?n._init():n=e.data(this,"dropdown",new e.DropDown(t,this))});return n}}(jQuery,window),function(e){var t="data-ab-color",n="data-ab-parent",r="data-ab-css-background",a="ab-color-found",o={selector:"[data-adaptive-background]",parent:null,exclude:["rgb(0,0,0)","rgba(255,255,255)"],normalizeTextColor:!1,normalizedTextColors:{light:"#fff",dark:"#000"},lumaClasses:{light:"ab-light",dark:"ab-dark"}};!function(e){var t=function(){return document.createElement("canvas").getContext("2d")},n=function(e,n){var r=new Image,a=e.src||e;"data:"!==a.substring(0,5)&&(r.crossOrigin="Anonymous"),r.onload=function(){var e=t("2d");e.drawImage(r,0,0);var a=e.getImageData(0,0,r.width,r.height);n&&n(a.data)},r.src=a},r=function(e){return["rgb(",e,")"].join("")},a=function(e){return e.map(function(e){return r(e.name)})},o=5,s=10,i={};i.colors=function(e,t){t=t||{};var i=t.exclude||[],u=t.paletteSize||s;n(e,function(n){for(var s=e.width*e.height||n.length,c={},l="",p=[],f={dominant:{name:"",count:0},palette:Array.apply(null,new Array(u)).map(Boolean).map(function(){return{name:"0,0,0",count:0}})},d=0;s>d;){if(p[0]=n[d],p[1]=n[d+1],p[2]=n[d+2],l=p.join(","),c[l]=l in c?c[l]+1:1,-1===i.indexOf(r(l))){var h=c[l];h>f.dominant.count?(f.dominant.name=l,f.dominant.count=h):f.palette.some(function(e){return h>e.count?(e.name=l,e.count=h,!0):void 0})}d+=4*o}if(t.success){var g=a(f.palette);t.success({dominant:r(f.dominant.name),secondary:g[0],palette:g})}})},e.RGBaster=e.RGBaster||i}(window),e.adaptiveBackground={run:function(s){var i=e.extend({},o,s);e(i.selector).each(function(o,s){var u=e(this),c=function(){var e=l()?p():u[0];RGBaster.colors(e,{paletteSize:20,exclude:i.exclude,success:function(e){u.attr(t,e.dominant),u.trigger(a,{color:e.dominant,palette:e.palette})}})},l=function(){var e=u.attr(r);return"undefined"!=typeof e&&e!==!1},p=function(){var e=u.css("background-image"),t=/\(([^)]+)\)/,n=t.exec(e)[1].replace(/"/g,"");return n};u.on(a,function(e,t){var r;r=i.parent&&u.parents(i.parent).length?u.parents(i.parent):u.attr(n)&&u.parents(u.attr(n)).length?u.parents(u.attr(n)):l()?u:i.parent?u.parents(i.parent):u.parent(),r.css({backgroundColor:t.color});var a=function(e){var n=t.color.match(/\d+/g);return(299*n[0]+587*n[1]+114*n[2])/1e3},o=function(e){return a(e)>=128?i.normalizedTextColors.dark:i.normalizedTextColors.light},s=function(e){return a(e)<=128?i.lumaClasses.dark:i.lumaClasses.light};i.normalizeTextColor&&r.css({color:o(t.color)}),r.addClass(s(t.color)).attr("data-ab-yaq",a(t.color)),i.success&&i.success(u,t)}),c()})}}}(jQuery),$(document).ready(function(){$(".post-index-item-picture-expand").click(function(){$(this).next($(".post-index-item-picture")).attr("src",$(this).next().data("rel")),$(this).next($(".post-index-item-picture")).css("display","block"),$(this).next($(".post-index-item-picture")).animate({opacity:1}),$(this).fadeOut("fast",function(){$(this).prev().fadeIn("fast")})}),$(".post-index-item-picture-collapse").click(function(){$(this).next().next().fadeOut("fast"),$(this).fadeOut("fast",function(){$(this).next().fadeIn("fast")})}),$(".post-index-item-picture").mousedown(function(e){e.preventDefault();var t=$(this);$(document).mousemove(function(e){e.preventDefault();var n=.6*(e.pageX-t.parent().offset().left+t.width());$(t).css("width",n)})}),$(document).mouseup(function(e){$(document).unbind("mousemove")})}),$(document).ready(function(){$(".post-title-url").each(function(){var e=$(this).text(),t=e.replace(/.*?:\/\//g,"").replace(/^www./,"").replace(/\/$/,""),n=t.substr(0,t.indexOf("/"));""!=n?$(this).text(n):$(this).text(t),$(this).css("visibility","visible")})}),$(document).click(function(){hideNotifications()}),$("#notifications-list").on("click","a[data-id]",function(e){e.preventDefault(),"false"==$(this).attr("data-read")&&$.get("/notifications/"+$(this).attr("data-id")+"/read-toggle"),window.location=$(this).attr("href"),getNotifications()}),$("#notifications-toggle").on("click",function(e){e.stopPropagation(),$("#notifications").toggle(),$(this).toggleClass("active"),notificationsResize(),getNotifications()}),$("#notifications-list").on("click",".nc-button",function(e){e.preventDefault(),$.get($(this).attr("href")),getNotifications()}),$("#notifications-markallread").on("click",function(e){e.preventDefault(),$.get("/notifications/read-all"),$("#notifications-count").removeAttr("class"),document.title=page_title,getNotifications()}),$("#notifications").on("click",function(e){e.stopPropagation()}),$(document).ready(function(){getNotifications(),setInterval(getNotifications,3e4),$(window).on("resize",function(){notificationsResize()}),$("#notifications").perfectScrollbar()}),$(document).ready(function(){$("#social-toggle").click(function(){var e=$("a");$(this).hasClass("activato")?($(this).removeClass("activato"),$(this).html('<i class="fa fa-share-alt"></i>'),$("#social").find(e).each(function(e){$(this).animate({right:5*e*-1,opacity:0})})):($(this).addClass("activato"),$("#social").find(e).each(function(e){$(this).animate({right:40*e,opacity:1})}),$(this).html('<i class="fa fa-times"></i>'))})}),$(document).ready(function(){var e=$("meta[name=csrf-token]").attr("content");$.ajaxSetup({beforeSend:function(t,n){/^(GET|HEAD|OPTIONS|TRACE)$/i.test(n.type)||this.crossDomain||t.setRequestHeader("X-CSRFToken",e)}}),$("#submit_post_form").on("submit",function(e){e.preventDefault(),$(".post-submit-field-submit").html('<i class="fa fa-spinner fa-spin"></i> <i>Submitting...</i>');var t=($(this).serialize(),$(this).attr("action")),n=new FormData($(this)[0]);$.ajax({url:t,type:"POST",data:n,processData:!1,contentType:!1,cache:!1}).done(function(e){$(".post-submit-field-submit").removeClass("houston"),$(".post-submit-field-submit").addClass("success"),$(".post-submit-field-submit").html('<i class="fa fa-check"></i> Success!'),window.location.replace(e.post_url)}).fail(function(e){$(".post-submit-field-submit").addClass("houston"),$(".post-submit-field-submit").html('<i class="fa fa-frown-o fa-spin"></i> Houston! Try again?')})}),function(){var e=document.querySelector("[data-dialog]"),t=document.getElementById(e.getAttribute("data-dialog")),n=new DialogFx(t);e.addEventListener("click",n.toggle.bind(n))}(),CKEDITOR.replace("post_content",{customConfig:"/static/js/ckeditor/config.js"}),CKEDITOR.instances.post_content.on("change",function(){CKEDITOR.instances.post_content.updateElement()}),$(".select-change").click(function(){$("#post_type_id").val($(this).data("val")),$(".select-change").each(function(){$(this).removeClass("activato")}),$(this).addClass("activato"),$(".post-submit-div-title").show(),$(".post-submit-div-category").show(),$(".post-submit-div-picture").show(),$(".post-submit-div-submit").show(),1==$("#post_type_id").val()&&($(".post-submit-link").show(),$(".post-submit-article").hide(),$("#url").focus(),$(".post-submit-field-submit").addClass("disabled")),2==$("#post_type_id").val()&&($(".post-submit-link").hide(),$(".post-submit-article").show(),$("#title").focus(),$(".post-submit-field-submit").removeClass("disabled"));
})});
//# sourceMappingURL=tutti.min.js.map