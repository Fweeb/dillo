{% extends 'layout.html' %}
{% block body %}
<h1>All posts</h1>

<div class="row post-index">
	<div class="col-md-9">
		{% for post in posts %}
		<div class="row post-item">
			<div class="col-md-1">
				<div class="post-item-rating" title="{{post.rating.positive}} Upvotes, {{post.rating.negative}} Downvotes">
					{{post.rating.positive - post.rating.negative}}
				</div>
			</div>
			<div class="col-md-10">
				<a class="post-item-title" href="{{url_for('posts.view', category=post.category.url, uuid=post.uuid)}}">
					{{post.title}}
				</a>
				<div class="post-item-details" href="{{url_for('posts.view', category=post.category.url, uuid=post.uuid)}}">
					<a class="post-item-rate up" href="{{url_for('posts.rate', uuid=post.uuid, rating='1')}}">
						<i class="fa fa-arrow-up"></i>
					</a>
					<a class="post-item-rate down" href="{{url_for('posts.rate', uuid=post.uuid, rating='0')}}">
						<i class="fa fa-arrow-down"></i>
					</a>
					{{post.comments|length}} comments
					-
					<i class="fa fa-clock-o"></i> {{post.pretty_creation_date}}
					<small>by</small> {{post.user.first_name}} {{post.user.last_name}}
				</div>
			</div>
		</div>
		{% endfor %}
	</div>
</div>
{% endblock %}
