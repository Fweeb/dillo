!function(a){"use strict";function b(a){return new RegExp("(^|\\s+)"+a+"(\\s+|$)")}function c(a,b){var c=d(a,b)?f:e;c(a,b)}var d,e,f;"classList"in document.documentElement?(d=function(a,b){return a.classList.contains(b)},e=function(a,b){a.classList.add(b)},f=function(a,b){a.classList.remove(b)}):(d=function(a,c){return b(c).test(a.className)},e=function(a,b){d(a,b)||(a.className=a.className+" "+b)},f=function(a,c){a.className=a.className.replace(b(c)," ")});var g={hasClass:d,addClass:e,removeClass:f,toggleClass:c,has:d,add:e,remove:f,toggle:c};"function"==typeof define&&define.amd?define(g):a.classie=g}(window),function(a){"use strict";function b(a,b){for(var c in b)b.hasOwnProperty(c)&&(a[c]=b[c]);return a}function c(a,c){this.el=a,this.options=b({},this.options),b(this.options,c),this.ctrlClose=this.el.querySelector("[data-dialog-close]"),this.isOpen=!1,this._initEvents()}var d={animations:Modernizr.cssanimations},e={WebkitAnimation:"webkitAnimationEnd",OAnimation:"oAnimationEnd",msAnimation:"MSAnimationEnd",animation:"animationend"},f=e[Modernizr.prefixed("animation")],g=function(a,b){var c=function(a){if(d.animations){if(a.target!=this)return;this.removeEventListener(f,c)}b&&"function"==typeof b&&b.call()};d.animations?a.addEventListener(f,c):c()};c.prototype.options={onOpenDialog:function(){return!1},onCloseDialog:function(){return!1}},c.prototype._initEvents=function(){var a=this;this.ctrlClose.addEventListener("click",this.toggle.bind(this)),document.addEventListener("keydown",function(b){var c=b.keyCode||b.which;27===c&&a.isOpen&&a.toggle()}),this.el.querySelector(".dialog__overlay").addEventListener("click",this.toggle.bind(this))},c.prototype.toggle=function(){var a=this;this.isOpen?(classie.remove(this.el,"dialog--open"),classie.add(a.el,"dialog--close"),g(this.el.querySelector(".dialog__content"),function(){classie.remove(a.el,"dialog--close")}),this.options.onCloseDialog(this)):(classie.add(this.el,"dialog--open"),this.options.onOpenDialog(this)),this.isOpen=!this.isOpen},a.DialogFx=c}(window),function(a,b,c){"use strict";a.DropDown=function(b,c){this.$el=a(c),this._init(b)},a.DropDown.defaults={speed:300,easing:"ease",gutter:0,stack:!0,delay:0,random:!1,rotated:!1,slidingIn:!1,onOptionSelect:function(){return!1}},a.DropDown.prototype={_init:function(b){this.options=a.extend(!0,{},a.DropDown.defaults,b),this._layout(),this._initEvents()},_layout:function(){var b=this;this.minZIndex=1e3;var d=this._transformSelect();this.opts=this.listopts.children("li"),this.optsCount=this.opts.length,this.size={width:this.dd.width(),height:this.dd.height()};var e=this.$el.attr("name"),f=this.$el.attr("id"),g=e!==c?e:f!==c?f:"cd-dropdown-"+(new Date).getTime();this.inputEl=a('<input type="hidden" name="'+g+'" value="'+d+'"></input>').insertAfter(this.selectlabel),this.selectlabel.css("z-index",this.minZIndex+this.optsCount),this._positionOpts(),Modernizr.csstransitions&&setTimeout(function(){b.opts.css("transition","all "+b.options.speed+"ms "+b.options.easing)},25)},_transformSelect:function(){var b="",d="",e=-1;return this.$el.children("option").each(function(){var f=a(this),g=isNaN(f.attr("value"))?f.attr("value"):Number(f.attr("value")),h=f.attr("class"),i=f.attr("selected"),j=f.text();-1!==g&&(b+=h!==c?'<li data-value="'+g+'"><span class="'+h+'">'+j+"</span></li>":'<li data-value="'+g+'"><span>'+j+"</span></li>"),i&&(d=j,e=g)}),this.listopts=a("<ul/>").append(b),this.selectlabel=a("<span/>").append(d),this.dd=a('<div class="cd-dropdown"/>').append(this.selectlabel,this.listopts).insertAfter(this.$el),this.$el.remove(),e},_positionOpts:function(){var b=this;this.listopts.css("height","auto"),this.opts.each(function(c){a(this).css({zIndex:b.minZIndex+b.optsCount-1-c,top:b.options.slidingIn?(c+1)*(b.size.height+b.options.gutter):0,left:0,marginLeft:b.options.slidingIn?c%2===0?b.options.slidingIn:-b.options.slidingIn:0,opacity:b.options.slidingIn?0:1,transform:"none"})}),this.options.slidingIn||this.opts.eq(this.optsCount-1).css({top:this.options.stack?9:0,left:this.options.stack?4:0,width:this.options.stack?this.size.width-8:this.size.width,transform:"none"}).end().eq(this.optsCount-2).css({top:this.options.stack?6:0,left:this.options.stack?2:0,width:this.options.stack?this.size.width-4:this.size.width,transform:"none"}).end().eq(this.optsCount-3).css({top:this.options.stack?3:0,left:0,transform:"none"})},_initEvents:function(){var b=this;this.selectlabel.on("mousedown.dropdown",function(){return b.opened?b.close():b.open(),!1}),this.opts.on("click.dropdown",function(){if(b.opened){var c=a(this);b.options.onOptionSelect(c),b.inputEl.val(c.data("value")),b.selectlabel.html(c.html()),b.close()}})},open:function(){var b=this;this.dd.toggleClass("cd-active"),this.listopts.css("height",(this.optsCount+1)*(this.size.height+this.options.gutter)),this.opts.each(function(c){a(this).css({opacity:1,top:b.options.rotated?b.size.height+b.options.gutter:(c+1)*(b.size.height+b.options.gutter),left:b.options.random?Math.floor(11*Math.random()-5):0,width:b.size.width,marginLeft:0,transform:b.options.random?"rotate("+Math.floor(11*Math.random()-5)+"deg)":b.options.rotated?"right"===b.options.rotated?"rotate(-"+5*c+"deg)":"rotate("+5*c+"deg)":"none",transitionDelay:b.options.delay&&Modernizr.csstransitions?b.options.slidingIn?c*b.options.delay+"ms":(b.optsCount-1-c)*b.options.delay+"ms":0})}),this.opened=!0},close:function(){var b=this;this.dd.toggleClass("cd-active"),this.options.delay&&Modernizr.csstransitions&&this.opts.each(function(c){a(this).css({"transition-delay":b.options.slidingIn?(b.optsCount-1-c)*b.options.delay+"ms":c*b.options.delay+"ms"})}),this._positionOpts(!0),this.opened=!1}},a.fn.dropdown=function(b){var c=a.data(this,"dropdown");if("string"==typeof b){var d=Array.prototype.slice.call(arguments,1);this.each(function(){c[b].apply(c,d)})}else this.each(function(){c?c._init():c=a.data(this,"dropdown",new a.DropDown(b,this))});return c}}(jQuery,window),$(document).ready(function(){var a=$("meta[name=csrf-token]").attr("content");$.ajaxSetup({beforeSend:function(b,c){/^(GET|HEAD|OPTIONS|TRACE)$/i.test(c.type)||this.crossDomain||b.setRequestHeader("X-CSRFToken",a)}}),$("#submit_post_form").on("submit",function(a){a.preventDefault(),$(".post-submit-field-submit").html('<i class="fa fa-spinner fa-spin"></i> <i>Submitting...</i>');$(this).serialize();url=$(this).attr("action");var b=new FormData($(this)[0]);$.ajax({url:url,type:"POST",data:b,processData:!1,contentType:!1,cache:!1}).done(function(a){console.log(a.post_url),$(".post-submit-field-submit").css("background-color","#5cb85c"),$(".post-submit-field-submit").html('<i class="fa fa-check"></i> Success!'),window.location.replace(a.post_url)}).fail(function(){console.log("We have a problemos."),$(".post-submit-field-submit").html('<i class="fa fa-frown-o fa-spin"></i> Problemo')})}),function(){var a=document.querySelector("[data-dialog]"),b=document.getElementById(a.getAttribute("data-dialog")),c=new DialogFx(b);a.addEventListener("click",c.toggle.bind(c))}(),CKEDITOR.replace("post_content",{removePlugins:"elementspath",resize_enabled:!1}),CKEDITOR.config.forcePasteAsPlainText=!0,CKEDITOR.instances.post_content.on("change",function(){CKEDITOR.instances.post_content.updateElement()}),$(".select-change").click(function(){$("#post_type_id").val($(this).data("val")),$(".select-change").each(function(){$(this).removeClass("activato")}),$(this).addClass("activato"),$(".post-submit-div-title").show(),$(".post-submit-div-category").show(),$(".post-submit-div-picture").show(),$(".post-submit-div-submit").show(),1==$("#post_type_id").val()&&($(".post-submit-link").show(),$(".post-submit-article").hide()),2==$("#post_type_id").val()&&($(".post-submit-link").hide(),$(".post-submit-article").show())})});