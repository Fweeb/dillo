@import url(../css/font-borg.css)
@import reset

$color_brand_main: #0092A0 // # 296bb6 - serious blue 34495e, greenish 009587
$color_brand_secondary: #e74c3c // e74c3c - dc2900
$color_background: #f0f2f3 // f0f0f0 // f9f7f6
$color_text: #444

$color_upvote: #ff8b60
$color_downvote: #74a4ff

$font_body: 'Open Sans', Verdana, Arial, Helvetica, sans-serif
$font_headings: 'Raleway', 'Lucida Sans', 'Lucida Grande', sans-serif
$font_size: 14px

@import helpers

body
	font-family: $font_body
	font-size: $font_size
	color: $color_text
	background-color: $color_background

h1, h2, h3, h4, h5, h6
	font-family: $font_headings

p
	margin-bottom: 20px /* replaces '10px' by bs */

a
	color: $color_brand_main
	&:hover
		color: $color_brand_secondary

.separator
	display: inline-block
	height: 15px
	width: 1px
	margin: 0 5px
	background-color: lighten($color_text, 60%)
	vertical-align: middle

/* TEMP */
a.logo
	margin-top: 8px
	padding-top: 6px
	display: block
	font-size: 1.2em
	font-family: $font_headings
	font-weight: bold

/* Navbar */
.navbar
	background-color: transparent
	border: none

/* Breadcrumb */
.breadcrumb
	background: transparent /* replaces white in bs */
	padding: 8px 0
	font-size: 0.9em
	margin-bottom: 0

/* post-index */
.post-index-item
	display: block
	background-color: white
	margin: 0 0 10px 0
	padding: 0
	border: thin solid darken($color_background, 3%)
	+border-radius(3px)
	+box-shadow(1px, 2px, 2px, darken($color_background, 10%), 1.0)
	&.even
		background-color:	darken($color_background, 1%)
		& .post-index-item-title
			+text-shadow(1px, 1px, 0, white, 0.8)
	&:hover .post-index-item-type
		opacity: 0.8

.post-index-item-title
	font-family: $font_headings
	display: block
	font-size: 1.5em
	padding: 15px 0 5px 0
	+text-shadow(1px, 1px, 0, darken($color_background, 3%), 1.0)
	@extend .text-overflow-ellipsis
	// +media-xs
	// 	padding-left: 0
	// +media-md
	// 	padding-left: 15px
	// +media-lg
	// 	padding-left: 5px

	&:hover
		text-decoration: none

.post-index-item-details
	display: block
	font-size: 0.9em
	color: lighten($color_text, 30%)
	padding: 3px 0 15px 0
	// +media-xs
	// 	padding-left: 0
	// +media-md
	// 	padding-left: 15px
	// +media-lg
	// 	padding-left: 5px
	& a
		color: lighten($color_text, 20%)
		&:hover
			color: $color_brand_secondary

.post-index-item-picture
	display: none
	min-width: 300px
	max-width: 100%
	opacity: 0
	margin: 20px 0 10px 0
	&:active
		cursor: nwse-resize

.post-index-item-picture-expand,
.post-index-item-picture-collapse
	cursor: pointer
	color: lighten($color_text, 30%)
	&:hover
		color: $color_brand_main

.post-index-item-picture-collapse
	display: none

.post-index-item-rate
	float: left
	display: block
	padding-top: 8px
	text-align: center
	+media-xs
		width: 15px
		margin-left: 0
	+media-sm
		width: 25px
		margin-left: 0
	+media-md
		width: 30px
		margin-left: 0
	+media-lg
		width: 40px
		margin-left: 4px
	& .up, .middle, .down
		font-size: 1.1em
		padding: 0 0 2px 0
		display: block
		position: relative
		color: lighten($color_text, 30%)
		top: 0
		+transition(top, 50ms, ease-out)
	&:hover
		text-decoration: none
	.up:hover, .up.rated
		color: $color_upvote
	.down:hover, .down.rated
		color: $color_downvote

.ink
	display: block
	position: absolute
	border: 2px solid $color_brand_main
	background: transparent
	border-radius: 100%
	transform: scale(0)
	&.animate
		animation: ripple 0.65s ease-out

.up .ink
	background: $color_upvote

.down .ink
	background: $color_downvote

@keyframes ripple
	100%
		opacity: 0
		transform: scale(1)


.post-index-item-type
	display: block
	float: right
	font-size: 1.8em
	width: 60px
	height: 60px
	color: white
	background-color: lighten($color_text, 55%)
	text-align: center
	position: absolute
	top: 15px
	right: 5px
	+media-xs
		width: 45px
		height: 45px
		right: -8px
		font-size: 1.4em
	+media-sm
		width: 60px
		height: 60px
		right: 5px
	+media-md
		width: 60px
		height: 60px
		right: -5px
	+media-lg
		width: 60px
		height: 60px
		right: 10px
	+box-shadow(2px, 2px, 0, black, .1)
	+border-radius(50%)
	& i
		top: 40%
		@extend .vertical-align
	&.link
		background-color: lighten($color_brand_secondary, 10%)
	&.text
		background-color: lighten($color_brand_main, 5%)

	+media-xs
		margin-left: 10px

.post-index-end
	color: darken($color_background, 5%)
	text-align: center
	+user-select-none

/* //post-index */
/* post-view */
.post-view-container, .post-submit
	background-color: white
	border: thin solid darken($color_background, 3%)
	+border-radius(3px)
	+box-shadow(1px, 2px, 2px, darken($color_background, 10%), 1.0)

.post-view-title
	display: block
	font-family: $font_headings
	font-size: 2.1em
	padding: 27px 15px 10px 15px
	line-height: 1.3em
	+text-shadow(1px, 1px, 0, darken($color_background, 3%), 1.0)


.post-view-rate
	float: left
	display: block
	width: 40px
	text-align: center
	padding-top: 10px
	margin: 0 15px
	+user-select-none
	& .up, .middle, .down
		font-size: 1.3em
		padding: 0 0 2px 0
		display: block
		color: lighten($color_text, 30%)
	&:hover
		text-decoration: none
	.up:hover, .up.rated
		color: $color_upvote
	.down:hover, .down.rated
		color: $color_downvote

.post-view-content
	font-size: 1.1em
	line-height: 1.8em
	padding: 10px 15px 0 15px
	margin: 0 10px 55px 55px

.post-view-content p
	margin-bottom: 25px

.post-view-content-image
	text-align: center
	margin: 0 auto
	padding: 0
	position: relative
	//margin: 0 0 0 65px
	& img
		max-width: 100%
	.post-view-content-image-link
		position: absolute
		right: 10px
		bottom: 5px
	&:hover .post-view-content-image-link
		color: $color_brand_main

.post-view-content-image-link
	font-size: 0.9em
	color: lighten($color_text, 20%)
	text-decoration: none !important

.post-view-details
	display: block
	padding: 15px
	//margin: 0 0 0 55px
	width: 100%
	background-color: darken($color_background, 3%)
	border-bottom: thick solid darken($color_background, 5%)
	color: lighten($color_text, 10%)

.post-view-details-meta
	margin-left: 10px
	& .author
		display: block
		font-size: 1.2em
	& .flag:hover, & .flag:focus
		text-decoration: none
	& .flag:after
		content: '\f11d'
		font-family: 'FontAwesome'
	& .flag.flagged:after
		content: '\f024'
		font-family: 'FontAwesome'


.post-view-details-avatar,
.post-view-comments-avatar
	position: relative

.post-view-details-avatar img,
.post-view-comments-avatar img
	background: white
	+box-shadow(2px, 2px, 0, black, .1)

.post-view-details-avatar img
	max-width: 70px
	padding: 3px

.post-view-comments-avatar img
	max-width: 60px
	padding: 2px

.post-view-details-avatar-label,
.post-view-comments-avatar-label
	padding: 0
	position: absolute
	display: block
	bottom: 0
	background: white
	+border-radius(50%)
	& i
		position: relative
		&.network_member
			color: #d91b5c
		&.bfct_trainer
			color: #40b0e0
			font-size: 0.9em

.post-view-details-avatar-label
	width: 23px
	height: 23px
	left: 42px
	+box-shadow(2px, 2px, 0, black, .1)
	& i
		font-size: 1.4em
		left: 4px
		top: 1px


.post-view-comments-avatar-label
	width: 20px
	height: 20px
	left: 42px
	+box-shadow(2px, 2px, 0, black, .05)
	& i
		left: 3px
		bottom: 1px
		&.bfct_trainer
			font-size: 0.8em
			left: 4px



.post-view-comments
	padding: 0
	margin: 0
	border-top: thin solid lighten($color_text, 65%)

.post-view-comments .title
	font-family: $font_headings
	padding: 15px
	margin: 0
	+user-select-none

.post-view-comments-item
	display: block
	width: 100%
	background-color: white
	padding: 15px 15px 25px 15px
	margin: 0
	border-top: thin solid lighten($color_text, 65%)
	&.odd
		background-color: darken(white, 5%)
	&.reply
		padding-left: 80px
		border-top: thin dashed lighten($color_text, 60%)

.post-view-comments-item-content
	padding: 0 0 15px 10px
	+media-xs
		padding-left: 0
	+media-md
		padding-left: 15px
	+media-lg
		padding-left: 10px

.post-view-comments-item-details
	display: block
	padding: 0 0 0 10px
	color: lighten($color_text, 30%)
	font-size: 0.9em
	+media-xs
		padding-left: 0
	+media-md
		padding-left: 15px
	+media-lg
		padding-left: 5px
	& .flag:hover, & .flag:focus
		text-decoration: none
	& .flag:after
		content: '\f11d'
		font-family: 'FontAwesome'
	& .flag.flagged:after
		content: '\f024'
		font-family: 'FontAwesome'

.post-view-comments-item-rate
	padding: 5px
	color: lighten($color_text, 30%)
	&:hover
		text-decoration: none
	&:hover.up, &.up.rated
		color: $color_upvote
	&:hover.down, &.down.rated
		color: $color_downvote

.post-view-comments-submit
	display: block
	width: 100%
	padding: 15px 15px 25px 15px
	margin: 0

.post-view-comments-empty
	font-size: 1.2em
	padding: 0 0 0 15px
	color: lighten($color_text, 40%)


/* //post-view */
/* post-submit */
.post-submit
	padding: 15px

.post-submit .form-control
	font-size: 1.4em
	padding: 6px 15px
	height: auto
	width: auto

	&.post-submit-field-title, &.post-submit-field-url,
	&.post-submit-field-category, &.post-submit-field-content, &.post-submit-field-picture
		width: 100%

.post-submit-div-title, .post-submit-div-url,
.post-submit-div-category, .post-submit-div-content, 
.post-submit-div-picture,
.post-submit-div-submit
	display: none

.post-submit .post-submit-field-type
	display: block
	margin: 20px 0

	& .post-submit-field-type-button
		display: inline-block
		width: 100%
		cursor: pointer

		&:hover, &:focus
			text-decoration: none !important

	& .post-submit-field-type-button-icon
		float: left
		margin-right: 10px

	& .post-submit-field-type-button-text
		display: block
		font-size: 1.5em
		& small
			display: block
			font-size: 0.7em

/* Footer */
footer
	padding-top: 20px
	color: darken($color_background, 10%)
	font-size: 0.9em

/* Boostrap overrides */
/* FORMS */
.form-group .form-control
	border: 2px solid darken($color_background, 6%)
	background-color: darken($color_background, 4%)
	+border-radius(3px)
	+box-shadow(2px, 2px, 0, black, .1)	
	&:focus
		border-color: $color_brand_main

/* DROPDOWN MENUS */
.dropdown-menu
	border: 0
	min-width: 130px
	background: white
	padding: 0
	+border-radius(0px)
	+box-shadow(2px, 2px, 0, black, .1)
	+transition(border-color, ease, 0.1s)

.dropdown-menu > li > a
	padding: 6% 8% 6% 6%
	padding-right: 45px
	font-weight: normal
	line-height: 1.42857143
	color: $color_text
	+transition(border-color, ease, 0.05s)

.dropdown-menu > li > a:hover
	background: transparent
	color: lighten($color_brand_secondary, 10%)

.dropdown-menu > .active > a
	background: transparent
	color: $color_brand_secondary

.dropdown-menu > .active > a:hover,
.dropdown-menu > .active > a:focus, .dropdown-menu > li > a:active
	background: transparent
	color: darken($color_brand_secondary, 10%)
	cursor: default

.dropdown-menu > li > a:focus, .dropdown-menu > li > a:active,
.dropdown-menu > .active > a:focus, .dropdown-menu > li > a:active
	background: transparent
	color: $color_brand_main

.dropdown-menu .divider
	height: 1px
	margin: 0
	background: $color_background

.dropdown-menu i
	float: left
	width: 22px
	margin: 3px 0 0 2px

.navbar-nav .open .dropdown-menu
	border-bottom-left-radius: 3px !important
	border-bottom-right-radius: 3px !important

/* Not really an override, it's our cool logout stuff */
.nav-logout-widget
	position: relative
	height: 33px
	cursor: pointer
	& .nav-logout-widget-icon, .nav-logout-widget-question
		position: absolute
		bottom: -3px
		left: 10px
		+transition(color, 100ms, ease-out)
	& .nav-logout-widget-question
		color: crimson
		font-weight: bold
		left: 13px
		opacity: 0

	&:focus .nav-logout-widget-icon
		color: crimson

/* Sidebar */
.nav-sidebar
	display: block
	background-color: white
	border: thin solid darken($color_background, 3%)
	+border-radius(3px)
	+box-shadow(1px, 2px, 2px, darken($color_background, 10%), 1.0)

.nav-sidebar p
	padding: 10px 20px

.nav-sidebar+.nav-sidebar
	margin-top: 20px

.nav-sidebar.branding
	text-align: center

	& h3
		font-family: $font_headings
		display: block
		font-size: 1.5em
		margin: 0
		padding: 10px 0 0 0
		color: $color_brand_main
		+user-select-none
		+pointer-events-none
		+text-shadow(1px, 1px, 0, darken($color_background, 3%), 1.0)
	& p
		font-size: 0.9em
		color: lighten($color_text, 20%)
		margin: 0
		padding: 10px 0 20px 0
		+user-select-none
		+pointer-events-none

	& .nav-sidebar-mug
		display: block
		margin: 20px auto 0 auto


/* Login */
.dialog, .dialog__overlay
	width: 100%
	height: 100%
	top: 0
	left: 0

.dialog
	position: fixed
	display: -webkit-flex
	display: flex
	-webkit-align-items: center
	align-items: center
	-webkit-justify-content: center
	justify-content: center
	pointer-events: none

.dialog__overlay
	position: absolute
	z-index: 1
	background: rgba(darken(desaturate($color_brand_main, 15%), 25%), 0.6)
	opacity: 0
	-webkit-transition: opacity 0.3s
	transition: opacity 0.3s
	-webkit-backface-visibility: hidden

.dialog--open .dialog__overlay
	opacity: 1
	pointer-events: auto

.dialog__content
	width: 80%
	max-width: 800px
	min-width: 290px
	background: white
	padding: 2em
	position: relative
	z-index: 5
	opacity: 0
	+border-radius(3px)
	+box-shadow(2px, 2px, 0, black, .1)

.dialog--open .dialog__content
	pointer-events: auto

.dialog.dialog--open .dialog__content,
.dialog.dialog--close .dialog__content
	-webkit-animation-duration: 0.3s
	animation-duration: 0.3s
	-webkit-animation-fill-mode: forwards
	animation-fill-mode: forwards

.dialog.dialog--open .dialog__content
	-webkit-animation-name: effect-dialog-open
	animation-name: effect-dialog-open

.dialog.dialog--close .dialog__content
	-webkit-animation-name: effect-dialog-close
	animation-name: effect-dialog-close

@-webkit-keyframes effect-dialog-open
	0%
		opacity: 0
		-webkit-transform: scale3d(1.1, 1.1, 1)
	100%
		opacity: 1
		-webkit-transform: scale3d(1, 1, 1)


@keyframes effect-dialog-open
	0%
		opacity: 0
		-webkit-transform: scale3d(1.1, 1.1, 1)
		transform: scale3d(1.1, 1.1, 1)
	100%
		opacity: 1
		-webkit-transform: scale3d(1, 1, 1)
		transform: scale3d(1, 1, 1)


@-webkit-keyframes effect-dialog-close
	0%
		opacity: 1
	100%
		opacity: 0
		-webkit-transform: scale3d(0.9, 0.9, 1)


@keyframes effect-dialog-close
	0%
		opacity: 1
	100%
		opacity: 0
		-webkit-transform: scale3d(0.9, 0.9, 1)
		transform: scale3d(0.9, 0.9, 1)


/* CKEditor Overrides */
.cke_chrome
	font-family: $font_body !important
	font-weight: lighter
	color: darken($color_text, 10%) !important
	border: thin solid lighten($color_text, 40%) !important
	background-color: lighten($color_background, 3%) !important
	resize: vertical
	margin: 0 !important
	+box-shadow(2px, 2px, 0, darken($color_background, 60%), .1)
	+border-radius(3px)

body.cke_editable.cke_editable_themed.cke_contents_ltr
	font-size: 110% !important
	margin-top: 0 !important
	margin: 0 !important
	font-family: $font_body !important
	font-size: 1.2em

span#cke_1_top
	padding: 5px 5px 0 5px !important
	border: none
	background-image: none
	background-color: transparent !important
	+box-shadow-none

span.cke_toolgroup
	border: none
	border-bottom: 2px solid transparent
	background-image: none
	background-color: white

a.cke_button_off
	border-bottom: 2px solid transparent !important
	+box-shadow-none

a.cke_button_off:hover, a.cke_button_off:focus, a.cke_button_off:active,
a.cke_button_disabled:hover, a.cke_button_disabled:focus, a.cke_button_disabled:active
	background-image: none !important
	background-color: transparent !important
	color: white !important
	border-bottom: 2px solid $color_brand_main !important

a.cke_button_on, a.cke_button_on:hover, a.cke_button_on:focus, a.cke_button_on:active
	background-image: none !important
	background-color: transparent !important
	border-bottom: 2px solid $color_brand_secondary !important
	color: white !important
	+box-shadow-none